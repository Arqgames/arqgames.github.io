<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />

    <!-- 画面表示（スマホ対応） -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- 基本SEO -->
    <title>Bible Timeline Quiz</title>
    <meta name="description"
        content="Bible Timeline Quiz is a free browser game where you arrange Bible events in chronological order. Supports Japanese and English." />

    <!-- 検索結果の表示強化（Open Graph / Twitter） -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bible Timeline Quiz" />
    <meta property="og:description"
        content="A free browser game where you arrange Bible events in chronological order. Supports Japanese and English." />
    <!-- TODO: 公開URLが確定したらここを書き換え（GitHub PagesのURL） -->
    <!-- 例: https://btlq.github.io/ -->
    <meta property="og:url" content="https://arqgames.github.io/btlq/" />

    <!-- TODO: サムネ画像を置く場合（/og.png など） -->
    <!-- <meta property="og:image" content="https://arqgames.github.io/.png" /> -->

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Bible Timeline Quiz" />
    <meta name="twitter:description"
        content="A free browser game where you arrange Bible events in chronological order. Supports Japanese and English." />

    <!-- 表示の雰囲気（任意） -->
    <meta name="theme-color" content="#f4e4bc" />

    <!-- アイコン（任意：後で追加してOK） -->
    <!-- <link rel="icon" href="/favicon.ico" /> -->
    <!-- <link rel="apple-touch-icon" href="/apple-touch-icon.png" /> -->

    <!-- フォント / ライブラリ（あなたの現状を維持） -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <!-- Google adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8810957223833437"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/css/ui.css">

</head>

<body>

    <div class="container">
        <button class="top-btn home-btn" type="button" id="homeBtn" title="Home">
            <svg width="22" height="22" viewBox="0 0 24 24" style="display:block;">
                <path d="M12 3.2 3 10.3V21a1 1 0 0 0 1 1h5v-7h6v7h5a1 1 0 0 0 1-1V10.3l-9-7.1z" fill="currentColor" />
            </svg>
        </button>

        <button class="top-btn lang-switch" type="button" id="langBtn" title="Language">EN</button>

        <div id="screen-setup">
            <div class="header-icon-box"><span class="material-icons header-icon">menu_book</span></div>
            <h1 data-ja="聖書年表クイズ" data-en="Bible Timeline Quiz">聖書年表クイズ</h1>

            <div class="quick-btn-container">
                <button class="q-btn full" onclick="quickSet(-4026, 98, this)" data-ja="全期間"
                    data-en="All Periods">全期間</button>

                <button class="q-btn" onclick="quickSet(-4026, -1513, this)" data-ja="創世記〜族長時代"
                    data-en="Genesis & Patriarchs">創世記〜族長時代</button>

                <button class="q-btn" onclick="quickSet(-1513, -1070, this)" data-ja="イスラエル征服"
                    data-en="Conquest">イスラエル征服</button>

                <button class="q-btn" onclick="quickSet(-1070, -2, this)" data-ja="王国の衰退・再建"
                    data-en="Kings, Exile & Return">王国の衰退・再建</button>

                <button class="q-btn" onclick="quickSet(-2, 98, this)" data-ja="キリスト・使徒"
                    data-en="Jesus & Apostles">キリスト・使徒</button>
            </div>

            <div class="picker-group">
                <div class="picker-column"><span style="font-size:0.75em; font-weight:bold;" data-ja="開始"
                        data-en="Start">開始</span><select id="select-start"></select></div>
                <div class="picker-column"><span style="font-size:0.75em; font-weight:bold;" data-ja="終了"
                        data-en="End">終了</span><select id="select-end"></select></div>
            </div>

            <select id="count-select" style="width:100%; margin-top:15px;">
                <option value="3" data-ja="3問 【初級】" data-en="3 Events [Easy]">3問 【初級】</option>
                <option value="5" selected data-ja="5問 【ノーマル】" data-en="5 Events [Normal]">5問 【ノーマル】</option>
                <option value="8" data-ja="8問 【ハード】" data-en="8 Events [Hard]">8問 【ハード】</option>
                <option value="12" data-ja="12問 【レジェンド】" data-en="12 Events [Legend]">12問 【レジェンド】</option>
                <option value="20" data-ja="20問 【ゴッド】" data-en="20 Events [God Mode]">20問 【ゴッド】</option>
            </select>
            <select id="time-attack-select" style="width:100%; margin-top:10px;">
                <option value="off" data-ja="タイムアタック：OFF" data-en="Time Attack: OFF">タイムアタック：OFF</option>
                <option value="on" data-ja="タイムアタック：ON" data-en="Time Attack: ON">タイムアタック：ON</option>
            </select>
            <div id="error-msg"></div>
            <button class="btn" onclick="startGame()" data-ja="冒険を開始" data-en="Start Adventure">冒険を開始</button>
        </div>

        <div id="screen-game" class="hidden">
            <div id="timer-display" style="font-size: 1.5em; font-weight: bold; color: #d63031; margin-bottom: 10px;">
                ⏱ <span id="time-left">00</span>s
            </div>
            <div id="event-list"></div>
            <div id="hint-area" class="hidden"></div>
            <button class="btn" onclick="checkOrder()" data-ja="答え合わせ" data-en="Check Answer">答え合わせ</button>
        </div>

        <div id="screen-result" class="hidden">
            <div class="header-icon-box"><span class="material-icons header-icon" id="result-icon">star</span></div>
            <h2 id="result-title"></h2>
            <div id="fail-options" class="hidden">
                <button class="btn" onclick="showHint()" data-ja="ヒント" data-en="Hint">ヒント</button>
                <button class="btn btn-sub" onclick="retryThisTask()" data-ja="再挑戦" data-en="Retry">再挑戦</button>
            </div>
            <div id="success-options" class="hidden"><button class="btn" onclick="location.reload()" data-ja="次へ"
                    data-en="Next">次へ</button></div>
        </div>
    </div>

    <script>
        let currentLang = 'ja';
        let currentTask = [];
        let timerInterval;
        let timeLeft;
        /* 結果画面の再描画用：直前の勝敗を覚える */
        let lastIsWin = null;
        /* ヒント再描画用：直前に表示したヒントのIDを覚える */
        let lastHintIds = null;
        let lastHintWasEmpty = null;

        const refMap = {
            "Gen": "創", "Exo": "出", "Lev": "レビ", "Num": "民", "Deut": "申",
            "Josh": "ヨシュ", "Judg": "裁", "Ruth": "ルツ", "1Sam": "サム一", "2Sam": "サム二",
            "1Ki": "王一", "2Ki": "王二", "1Chr": "代一", "2Chr": "代二", "Ezra": "エズラ",
            "Neh": "ネヘ", "Esth": "エス", "Job": "ヨブ", "Ps": "詩", "Prov": "箴",
            "Isa": "イザ", "Jer": "エレ", "Lam": "哀", "Ezek": "エゼ", "Dan": "ダニ",
            "Amos": "アモ", "Jonah": "ヨナ", "Mic": "ミカ", "Hab": "ハバ", "Mal": "マラ",
            "Matt": "マタ", "Mark": "マル", "Luke": "ルカ", "John": "ヨハ", "Acts": "使徒",
            "Rom": "ロマ", "1Cor": "コリ一", "2Cor": "コリ二", "Gal": "ガラ", "Eph": "エフェ",
            "Phil": "フィリ", "Col": "コロ", "1Thess": "テサ一", "2Thess": "テサ二", "1Tim": "テモ一",
            "2Tim": "テモ二", "Titus": "テト", "Philem": "フィレ", "Heb": "ヘブ", "Jas": "ヤコ",
            "1Pet": "ペテ一", "2Pet": "ペテ二", "1John": "ヨハ一", "2John": "ヨハ二", "3John": "ヨハ三",
            "Jude": "ユダ", "Rev": "啓"
        };

        const masterEvents = [
            /* --- 1. 人類史の初めから大洪水まで (-4026 〜 -2369) --- */
            {
                id:01000, ja: "アダムの創造", en: "Creation of Adam",
                year: -4026, month: 1, day: 1, ref: "Gen 2:7", rank: 1,
                tags: ["Genesis", "Creation", "ChronologyAnchor"],
                hint_ja: "族長系譜の出発点（ここから年代が積算される）\n創5:3以降の父年齢連鎖の起点として固定",
                hint_en: "Starting point of the patriarch timeline (ages begin accumulating here)\nFix it as the anchor for the father-age chain in Genesis 5:3 onward"
            },

            {
                id:01500, ja: "セツの誕生", en: "Birth of Seth",
                year: -3896, month: 1, day: 1, ref: "Gen 5:3", rank: 4,
                tags: ["Genesis", "Genealogy"],
                hint_ja: "創4:25と5:3を見比べ、130年差が年代積算にどう作用するか確認",
                hint_en: "Compare Gen 4:25 & 5:3 to track age offset"
            },

            {
                id:02000, ja: "エノクの誕生", en: "Birth of Enoch",
                year: -3404, month: 1, day: 1, ref: "Gen 5:18", rank: 4,
                tags: ["Genesis", "Genealogy"],
                hint_ja: "5章父年齢を連鎖追跡し洪水年代へ収束する流れを観察",
                hint_en: "Trace genealogy chain toward Flood timeline"
            },

            {
                id:02500, ja: "メトセラ誕生", en: "Birth of Methuselah",
                year: -3339, month: 1, day: 1, ref: "Gen 5:21", rank: 3,
                tags: ["Genesis", "Lifespan", "Chronology"],
                hint_ja: "寿命記録と7:6洪水年を照合し同時代重複を確認",
                hint_en: "Cross-check lifespan with Flood year Gen 7:6"
            },

            {
                id:03000, ja: "アダムの死", en: "Death of Adam",
                year: -3096, month: 1, day: 1, ref: "Gen 5:5", rank: 3,
                tags: ["Genesis", "Lifespan"],
                hint_ja: "系譜人物との重複期間を調べ年代連続性を感じ取る",
                hint_en: "Observe overlap continuity with genealogy figures"
            },

            {
                id:04000, ja: "ノア誕生", en: "Birth of Noah",
                year: -2970, month: 1, day: 1, ref: "Gen 5:28-29", rank: 2,
                tags: ["Genesis", "Flood", "ChronologyAnchor"],
                hint_ja: "7:6の年齢固定点へ接続する重要節点として計算",
                hint_en: "Connect genealogy to Flood anchor age"
            },

            {
                id:05000, ja: "大洪水が始まる", en: "Flood begins",
                year: -2370, month: 11, day: 1, ref: "Gen 7:11", rank: 1,
                tags: ["Genesis", "Flood", "MajorAnchor"],
                hint_ja: "「ノア600歳で洪水」＝大洪水年の絶対基準\n創5章の積算がここに収束する到達点（創7:6,11）",
                hint_en: "Noah at 600 when the Flood begins = a firm absolute anchor\nThe accumulated ages of Genesis 5 converge here (Gen 7:6,11)"
            },

            {
                id:06000, ja: "大洪水が終わる", en: "Flood ends",
                year: -2369, month: 2, day: 27, ref: "Gen 8:14", rank: 2,
                tags: ["Genesis", "Flood"],
                hint_ja: "7:11との比較で期間算出し時間感覚を養う",
                hint_en: "Compare markers to compute duration"
            },

            {
                id:07000, ja: "バベルの塔", en: "Tower of Babel",
                year: -2269, month: 1, day: 1, ref: "Gen 11:9", rank: 1,
                tags: ["Genesis", "Nations"],
                hint_ja: "洪水後の世界分岐点（言語が混乱し散らされる）\n創10（民族表）→創11（年代系譜）の接続で位置固定",
                hint_en: "Post-Flood turning point: languages confused and people scattered\nFix its place by linking Gen 10 (nations) → Gen 11 (chronology)"
            },

            {
                id:08000, ja: "ノアの死", en: "Death of Noah",
                year: -2020, month: 1, day: 1, ref: "Gen 9:29", rank: 4,
                tags: ["Genesis", "TransitionEra"],
                hint_ja: "洪水後寿命と族長年代重複を確認し時代接続を感じる",
                hint_en: "Observe overlap into patriarch era"
            },

            /* --- 2. 族長時代：アブラハムからヨセフまで (-2020 〜 -1657) --- */

            {
                id:08500, ja: "アブラハム誕生", en: "Birth of Abraham",
                year: -2018, month: 1, day: 1, ref: "Gen 11:26", rank: 2,
                tags: ["Patriarch", "Genesis", "Chronology"],
                hint_ja: "12:4の75歳移動を基準に逆算し年代固定を試す",
                hint_en: "Back-calc from migration age anchor"
            },

            {
                id:09500, ja: "ハラン出発", en: "Departure from Haran",
                year: -1943, month: 1, day: 1, ref: "Gen 12:4", rank: 1,
                tags: ["Patriarch", "ChronologyAnchor"],
                hint_ja: "族長時代の強アンカー（アブラハム75歳で出発）\n出12:40の430年比較に接続する起点（創12:4）",
                hint_en: "Strong patriarch anchor: Abraham departs at age 75\nUse it as a start-point when linking to the 430 years of Ex 12:40 (Gen 12:4)"
            },

            {
                id: 10600, ja: "イシュマエル誕生", en: "Birth of Ishmael",
                year: -1932, month: 1, day: 1, ref: "Gen 16:15", rank: 3,
                tags: ["Patriarch", "Genealogy"],
                hint_ja: "17章契約更新との年齢差を比較し配置を確認",
                hint_en: "Compare age gap to covenant renewal"
            },

            {
                id: 11000, ja: "イサク誕生", en: "Birth of Isaac",
                year: -1918, month: 1, day: 1, ref: "Gen 21:2", rank: 1,
                tags: ["Patriarch", "PromiseLine", "Anchor"],
                hint_ja: "約束の系統が確定する中心固定点\n族長年代の基準として後続（ヤコブ等）を相対配置",
                hint_en: "Central fixed point where the promised line is established\nUse it to place later patriarch events (Jacob, etc.) relatively"
            },

            {
                id: 12000, ja: "イサク奉献試練", en: "Binding of Isaac",
                year: -1890, month: 1, day: 1, ref: "Gen 22:2", rank: 2,
                tags: ["Patriarch", "FaithTest"],
                hint_ja: "誕生節と比較し年齢推定しながら位置把握",
                hint_en: "Estimate placement from birth anchor"
            },

            {
                id: 13000, ja: "ヤコブ誕生", en: "Birth of Jacob",
                year: -1858, month: 1, day: 1, ref: "Gen 25:26", rank: 1,
                tags: ["Patriarch", "IsraelLine"],
                hint_ja: "イスラエルの家系（12部族）へ直結する起点\n創47:9の寿命情報と連結して後年側を固定できる",
                hint_en: "Starting point for Israel’s line (leading to the 12 tribes)\nLink with Gen 47:9 (lifespan statement) to anchor later placement"
            },

            {
                id: 13600, ja: "ハラン逃亡", en: "Jacob flees",
                year: -1781, month: 1, day: 1, ref: "Gen 28:10", rank: 2,
                tags: ["Patriarch", "Migration"],
                hint_ja: "31:38の奉仕年数から帰還年を逆算",
                hint_en: "Back-calc via service duration"
            },

            {
                id: 14000, ja: "ヨセフ誕生", en: "Birth of Joseph",
                year: -1767, month: 1, day: 1, ref: "Gen 30:24", rank: 2,
                tags: ["Patriarch", "EgyptTransition"],
                hint_ja: "41:46の宰相年齢を比較し年代位置固定",
                hint_en: "Anchor using age at elevation"
            },

            {
                id: 15000, ja: "ヨセフが売られる", en: "Joseph sold",
                year: -1750, month: 1, day: 1, ref: "Gen 37:28", rank: 1,
                tags: ["Patriarch", "Egypt"],
                hint_ja: "物語の転換点（エジプトへの道が開く）\n創41章（30歳で宰相）との年齢差で相対固定しやすい",
                hint_en: "Major turning point: the road to Egypt opens\nFix it relatively by comparing with Gen 41 (Joseph becomes governor at 30)"
            },

            {
                id: 15600, ja: "ヨセフが宰相になる", en: "Joseph elevated",
                year: -1737, month: 1, day: 1, ref: "Gen 41:41", rank: 1,
                tags: ["Patriarch", "Egypt", "ChronologyAnchor"],
                hint_ja: "「30歳で宰相」＝飢饉と移住へつながる鍵\n創41:46＋飢饉年数（45章）で移住年へ接続",
                hint_en: "“Governor at 30” = key link to famine and migration\nUse Gen 41:46 plus the famine-year framework (Gen 45) to connect to the move"
            },

            {
                id: 16000, ja: "ヤコブがエジプトに移住する", en: "Jacob enters Egypt",
                year: -1728, month: 1, day: 1, ref: "Gen 46:6", rank: 1,
                tags: ["Patriarch", "Egypt", "MajorAnchor"],
                hint_ja: "イスラエルがエジプトへ入る決定的アンカー\n出12:40の居住期間計算に直結（創46章）",
                hint_en: "Decisive anchor: Israel enters Egypt\nConnects directly to the residence-duration statement in Ex 12:40 (Gen 46)"
            },

            {
                id: 16500, ja: "ヨセフの死", en: "Death of Joseph",
                year: -1657, month: 1, day: 1, ref: "Gen 50:26", rank: 2,
                tags: ["Patriarch", "Transition"],
                hint_ja: "出1:8王交代との時間距離を確認し次時代接続",
                hint_en: "Observe transition into Exodus era"
            },

            /* --- 3. エジプト脱出とカナン征服 (-1593〜-1450) --- */

            {
                id: 17000, ja: "モーセ誕生", en: "Birth of Moses",
                year: -1593, month: 1, day: 1, ref: "Exo 2:2", rank: 2,
                tags: ["Exodus", "Moses", "Chronology"],
                hint_ja: "出7:7の年齢情報と比較し出エジプト時点から逆算して位置確認",
                hint_en: "Back-calc from Moses age at Exodus anchor"
            },

            {
                id: 17500, ja: "ミディアン逃亡", en: "Moses flees to Midian",
                year: -1553, month: 1, day: 1, ref: "Exo 2:15", rank: 3,
                tags: ["Exodus", "Moses"],
                hint_ja: "使7:23,30の40年区分を比較し人生三分割構造で年代配置",
                hint_en: "Use Acts 7 timeline segments to place event"
            },

            {
                id: 18000, ja: "燃える柴", en: "Burning bush encounter",
                year: -1513, month: 1, day: 1, ref: "Exo 3:2", rank: 1,
                tags: ["Exodus", "Calling", "Anchor"],
                hint_ja: "出エジプト直前の召命（ここから一気に脱出へ）\n出7:7（80歳）と照合して前年アンカーとして固定",
                hint_en: "Pre-Exodus calling scene that launches the deliverance sequence\nTie to Ex 7:7 (Moses’ age) to fix it as a near-Exodus anchor"
            },

            {
                id: 18200, ja: "十の災い", en: "Ten plagues",
                year: -1513, month: 1, day: 1, ref: "Exo 7:14-12:30", rank: 1,
                tags: ["Exodus", "Plagues"],
                hint_ja: "物語が“過越→脱出”へ雪崩れ込む直前区間\n出12章（過越制定）へ連結して順序を固定",
                hint_en: "The run-up that drives straight into Passover → Exodus\nLock the sequence by linking directly into Exodus 12 (Passover institution)"
            },

            {
                id: 18500, ja: "過越が制定される", en: "Passover instituted",
                year: -1513, month: 4, day: 14, ref: "Exo 12:11", rank: 1,
                tags: ["Exodus", "Passover", "Anchor"],
                hint_ja: "“救出の夜”の基準点（後の記念とも対応）\n出12:40-41（430年）と接続する年代固定点",
                hint_en: "Baseline for “the night of deliverance” (later memorial link)\nUse it as a chronology anchor connected to Ex 12:40–41 (430 years)"
            },

            {
                id: 19000, ja: "出エジプト", en: "The Exodus",
                year: -1513, month: 4, day: 14, ref: "Exo 12:41", rank: 1,
                tags: ["Exodus", "MajorAnchor"],
                hint_ja: "旧約年代の超重要アンカー（ここから比較が多数）\n列王上6:1（480年）につながる起点として固定",
                hint_en: "One of the strongest OT chronology anchors (many comparisons start here)\nFix it as the starting point leading to 1Ki 6:1 (the 480-year statement)"
            },

            {
                id: 19500, ja: "マナ供給開始", en: "Manna begins",
                year: -1513, month: 5, day: 1, ref: "Exo 16:15", rank: 3,
                tags: ["Exodus", "Wilderness"],
                hint_ja: "ヨシュ5:12終了節と対比し荒野期間理解",
                hint_en: "Compare with cessation reference later"
            },

            {
                id: 20000, ja: "律法契約", en: "Law covenant established",
                year: -1513, month: 6, day: 1, ref: "Exo 24:7", rank: 1,
                tags: ["Exodus", "Sinai", "Covenant"],
                hint_ja: "シナイで契約締結＝国民としての節目\n出19章到着→24章契約の流れで月差を意識",
                hint_en: "Covenant at Sinai = a national milestone\nTrack it via the flow: arrival (Ex 19) → covenant (Ex 24), noting the month-gap"
            },

            {
                id: 20500, ja: "黄金子牛事件", en: "Golden calf incident",
                year: -1513, month: 8, day: 1, ref: "Exo 32:4", rank: 2,
                tags: ["Exodus", "Apostasy"],
                hint_ja: "山滞在期間40日比較で順序確認",
                hint_en: "Use 40-day interval comparison"
            },

            {
                id: 21000, ja: "幕屋完成", en: "Tabernacle completed",
                year: -1512, month: 1, day: 1, ref: "Exo 40:17", rank: 2,
                tags: ["Exodus", "Worship"],
                hint_ja: "出12年次比較し翌年構造理解",
                hint_en: "Observe second-year structure"
            },

            {
                id: 22000, ja: "12偵察派遣", en: "Twelve spies sent",
                year: -1512, month: 9, day: 1, ref: "Num 13:1", rank: 2,
                tags: ["Wilderness", "Recon"],
                hint_ja: "民14裁き節と対比し40年起点確認",
                hint_en: "Link to 40-year judgment statement"
            },

            {
                id: 23000, ja: "カデシュ反逆", en: "Rebellion at Kadesh",
                year: -1512, month: 10, day: 1, ref: "Num 14:1", rank: 1,
                tags: ["Wilderness", "Judgment"],
                hint_ja: "40年放浪が確定する大転換点\n申2:14（38年）等と照合して放浪期間を固定",
                hint_en: "Major turning point that confirms the 40-year wilderness period\nUse Deut 2:14 (38 years) and related markers to fix the timeframe"
            },

            {
                id: 23600, ja: "アロンの死", en: "Death of Aaron",
                year: -1474, month: 5, day: 1, ref: "Num 20:28", rank: 2,
                tags: ["Wilderness", "Priesthood"],
                hint_ja: "民33旅程記録と照合し終盤位置確認",
                hint_en: "Cross-check itinerary list placement"
            },

            {
                id: 24000, ja: "モーセの死", en: "Death of Moses",
                year: -1473, month: 12, day: 1, ref: "Deut 34:5", rank: 1,
                tags: ["Transition", "Leadership"],
                hint_ja: "荒野40年の終点（指導者交代）\n申1:3などと合わせて“40年枠”を閉じる",
                hint_en: "End of the 40-year wilderness period (leadership transition)\nClose the “40-year frame” by linking with Deut 1:3 and related markers"
            },

            {
                id: 25000, ja: "ヨルダン川を渡る", en: "Jordan crossing",
                year: -1473, month: 1, day: 10, ref: "Josh 3:15", rank: 1,
                tags: ["Conquest", "Entry", "Anchor"],
                hint_ja: "約束の地へ入る入口（征服期の起点）\nヨシュ4章の記念などと合わせ、年初の配置を固定",
                hint_en: "Gateway into the Promised Land (start of the conquest phase)\nStabilize its placement with the memorial context in Joshua 4 and the early-year setting"
            },

            {
                id: 26000, ja: "エリコ陥落", en: "Fall of Jericho",
                year: -1473, month: 1, day: 17, ref: "Josh 6:20", rank: 1,
                tags: ["Conquest", "Battle"],
                hint_ja: "侵入直後の象徴的勝利（征服開始が明確になる）\n渡河（ヨシュ3-4）→包囲（6章）の流れで順序固定",
                hint_en: "Symbolic early victory that clearly marks conquest beginning\nLock the order by following crossing (Josh 3–4) → siege/fall (Josh 6)"
            },

            {
                id: 26400, ja: "アイ陥落", en: "Fall of Ai",
                year: -1473, month: 2, day: 1, ref: "Josh 8:19", rank: 2,
                tags: ["Conquest", "Campaign"],
                hint_ja: "アカン事件節と連続読解で順序把握",
                hint_en: "Read alongside Achan narrative sequence"
            },

            {
                id: 26600, ja: "太陽が停止する", en: "Sun stands still",
                year: -1470, month: 1, day: 1, ref: "Josh 10:12", rank: 3,
                tags: ["Conquest", "Miracle"],
                hint_ja: "南方遠征節と比較し征服段階理解",
                hint_en: "Place within southern campaign stage"
            },

            {
                id: 27000, ja: "ヨシュアの死", en: "Death of Joshua",
                year: -1450, month: 1, day: 1, ref: "Josh 24:29", rank: 2,
                tags: ["Conquest", "Transition"],
                hint_ja: "士師記冒頭節と比較し時代移行確認",
                hint_en: "Observe transition into Judges era"
            },

            /* --- 4. 裁き人時代とサウル王の時代 (-1394〜-1077) --- */

            {
                id: 28000, ja: "オトニエルの解放", en: "Deliverance by Othniel",
                year: -1394, month: 1, day: 1, ref: "Judg 3:9", rank: 2,
                tags: ["Judges", "Deliverer"],
                hint_ja: "士3:8の支配期間と3:11の安息年数を比較し周期構造確認",
                hint_en: "Compare oppression/rest durations in Judg 3"
            },

            {
                id: 28500, ja: "エフデの解放", en: "Deliverance by Ehud",
                year: -1336, month: 1, day: 1, ref: "Judg 3:15", rank: 2,
                tags: ["Judges", "Deliverer"],
                hint_ja: "3:14の18年と3:30の80年を対比し累積的でない時代進行理解",
                hint_en: "Observe non-linear timeline segments"
            },

            {
                id: 29000, ja: "デボラの勝利", en: "Victory under Deborah",
                year: -1316, month: 1, day: 1, ref: "Judg 4:4", rank: 1,
                tags: ["Judges", "Prophet"],
                hint_ja: "士師時代の代表的救出（歌と戦記で記憶しやすい）\n士4章（出来事）＋士5章（歌）の対応で位置固定",
                hint_en: "A flagship deliverance in Judges (easy to remember via song + narrative)\nFix its placement by pairing Judg 4 (event) with Judg 5 (song)"
            },

            {
                id: 29500, ja: "ギデオン召命", en: "Gideon called",
                year: -1245, month: 1, day: 1, ref: "Judg 6:12", rank: 1,
                tags: ["Judges", "Midian"],
                hint_ja: "ミデアン圧迫の中での召命＝救出サイクルの核\n士6:1（7年）→8:28（40年）の枠で整理",
                hint_en: "Calling during Midianite oppression—core of the deliverance cycle\nFrame it with Judg 6:1 (7 years) → 8:28 (40 years)"
            },

            {
                id: 30000, ja: "アビメレク支配", en: "Rule of Abimelech",
                year: -1205, month: 1, day: 1, ref: "Judg 9:6", rank: 3,
                tags: ["Judges", "KingshipAttempt"],
                hint_ja: "8:22王提案と9章統治期間照合し異例性理解",
                hint_en: "Contrast kingship proposal context"
            },

            {
                id: 30500, ja: "エフタ活動", en: "Jephthah judges",
                year: -1187, month: 1, day: 1, ref: "Judg 11:29", rank: 2,
                tags: ["Judges", "Ammon"],
                hint_ja: "11:26の300年発言と征服年代比較で逆算試行",
                hint_en: "Compare 300-year statement chronologically"
            },

            {
                id: 31000, ja: "サムソン活動", en: "Samson judges",
                year: -1155, month: 1, day: 1, ref: "Judg 13:24", rank: 1,
                tags: ["Judges", "Philistines"],
                hint_ja: "ペリシテ圧迫期の象徴的士師\n士13:1（40年）と16:31（統治）で枠組み把握",
                hint_en: "Signature judge during the Philistine oppression period\nUse Judg 13:1 (40 years) and 16:31 (his judging years) to frame it"
            },

            {
                id: 32000, ja: "契約の箱奪取", en: "Ark captured",
                year: -1128, month: 1, day: 1, ref: "1Sam 4:11", rank: 1,
                tags: ["Samuel", "Philistines"],
                hint_ja: "士師末期〜サムエル期への強い転換点\n1サム4章→7章（帰還・安定）へ連結して固定",
                hint_en: "Strong turning point from late Judges into Samuel’s era\nFix it by linking 1Sam 4 (capture) → 1Sam 7 (return/stabilization)"
            },

            {
                id: 32500, ja: "サムエルがイスラエルを治める", en: "Samuel judges Israel",
                year: -1117, month: 1, day: 1, ref: "1Sam 7:15", rank: 1,
                tags: ["Samuel", "Transition"],
                hint_ja: "王政直前の移行期（最後の士師としての位置）\n8章（王を求める）へ向かう流れの前段として固定",
                hint_en: "Transition period right before the monarchy (Samuel as the last judge)\nFix it as the lead-in to 1Sam 8 (the request for a king)"
            },

            {
                id: 33000, ja: "サウル王任命", en: "Saul made king",
                year: -1117, month: 1, day: 1, ref: "1Sam 10:1", rank: 1,
                tags: ["Monarchy", "Saul", "Anchor"],
                hint_ja: "王政開始の大アンカー（以後は王の年表へ）\n1サム10章→13章の流れで統治開始を押さえる",
                hint_en: "Major anchor for the start of the monarchy (timeline shifts to kings)\nStabilize by tracking the flow from 1Sam 10 into the reign framework in ch.13"
            },

            {
                id: 33500, ja: "アマレク戦争", en: "War with Amalek",
                year: -1107, month: 1, day: 1, ref: "1Sam 15:3", rank: 2,
                tags: ["Saul", "Campaign"],
                hint_ja: "王拒絶節と後継指名節比較",
                hint_en: "Compare rejection narrative placement"
            },

            {
                id: 34000, ja: "ダビデ油注ぎ", en: "David anointed",
                year: -1107, month: 1, day: 1, ref: "1Sam 16:13", rank: 1,
                tags: ["David", "Transition"],
                hint_ja: "サウル期の中で“次の王”が確定する節目\n1サム16章を基準に、以後の並行展開を整理",
                hint_en: "Milestone within Saul’s reign: the next king is designated\nUse 1Sam 16 as a baseline to organize the parallel developments that follow"
            },

            {
                id: 34500, ja: "ゴリアテ撃破", en: "Defeat of Goliath",
                year: -1100, month: 1, day: 1, ref: "1Sam 17:49", rank: 2,
                tags: ["David", "Philistines"],
                hint_ja: "王宮召集節との前後確認",
                hint_en: "Compare palace introduction timing"
            },

            {
                id: 35000, ja: "サウルの死", en: "Death of Saul",
                year: -1077, month: 1, day: 1, ref: "1Sam 31:6", rank: 1,
                tags: ["Saul", "Transition", "MajorAnchor"],
                hint_ja: "王政第一幕の終点（ダビデ王国へ直結）\n2サム2章（ヘブロン即位）へ接続して固定",
                hint_en: "End of the first monarchy phase (direct handoff toward David)\nFix it by linking straight into 2Sam 2 (David’s anointing at Hebron)"
            },

            /* --- 5. 王国の繁栄から南北分裂まで (-1077〜-897) --- */

            {
                id: 36000, ja: "ダビデが王として油注がれる（ヘブロン）", en: "David anointed king in Hebron",
                year: -1077, month: 1, day: 1, ref: "2Sam 2:4", rank: 1,
                tags: ["Monarchy", "David", "Judah", "MajorAnchor"],
                hint_ja: "「ユダだけの王」から王国史が始まる\n2サム2:11＋5:4-5で統治枠を固定する",
                hint_en: "The kingdom timeline begins with David as king over Judah\nFix the reign framework using 2Sam 2:11 and 2Sam 5:4–5"
            },

            {
                id: 36500, ja: "全イスラエルの王となる", en: "David made king over all Israel",
                year: -1070, month: 1, day: 1, ref: "2Sam 5:3", rank: 1,
                tags: ["Monarchy", "David", "Israel", "MajorAnchor"],
                hint_ja: "統一王国成立の即位アンカー\n2サム5:1-5に即位と年数がまとまっていて強い",
                hint_en: "Accession anchor for the unified kingdom\n2Sam 5:1–5 clusters accession plus reign length, making it strong"
            },

            {
                id: 37000, ja: "エルサレムを都に", en: "Jerusalem becomes the capital",
                year: -1070, month: 1, day: 1, ref: "2Sam 5:6-7", rank: 2,
                tags: ["Monarchy", "David", "Jerusalem"],
                hint_ja: "5:6-9の都攻略と、6章の箱移送を並べて「都＝崇拝中心」の流れを読む\n年代は即位節（5:3-5）からの相対位置で追える",
                hint_en: "Read 2Sam 5:6-9 alongside ch.6 to see capital + worship center linkage\nDate it relative to David’s reign anchors"
            },

            {
                id: 37500, ja: "契約の箱をエルサレムへ", en: "Ark brought to Jerusalem",
                year: -1070, month: 1, day: 1, ref: "2Sam 6:15", rank: 2,
                tags: ["Monarchy", "Ark", "Jerusalem", "Worship"],
                hint_ja: "6:1-15と詩132など関連詩篇を照合すると「箱＝王国神権」の重みが増す\n年数は5:4-5の統治枠内で位置付ける",
                hint_en: "Cross-check 2Sam 6 with related psalms (e.g., Ps 132) for theological weight\nPlace it within the reign framework of 2Sam 5:4-5"
            },

            {
                id: 38000, ja: "王国契約（ダビデ契約）", en: "Covenant for a kingdom (Davidic covenant)",
                year: -1070, month: 1, day: 1, ref: "2Sam 7:16", rank: 1,
                tags: ["Monarchy", "Covenant", "David", "Prophecy", "MajorAnchor"],
                hint_ja: "以後の王統理解の“ものさし”になる約束\n2サム7章＋詩89の対応で軸として固定",
                hint_en: "A promise that becomes the measuring stick for later kings\nFix it as a core axis by pairing 2Sam 7 with Ps 89 parallels"
            },

            {
                id: 38500, ja: "ダビデの罪とナタンの譴責", en: "David’s sin and Nathan’s rebuke",
                year: -1054, month: 1, day: 1, ref: "2Sam 12:7", rank: 2,
                tags: ["Monarchy", "David", "Discipline"],
                hint_ja: "11章（罪）→12章（譴責）→12:13-14（結果）を連続で読むと因果がはっきりする\n年は統治40年枠（5:4-5）で相対配置できる",
                hint_en: "Read ch.11→12 continuously to trace cause and consequence\nDate it relative to the 40-year reign frame"
            },

            {
                id: 39000, ja: "アブサロムの反逆", en: "Absalom’s rebellion",
                year: -1023, month: 1, day: 1, ref: "2Sam 15:10", rank: 2,
                tags: ["Monarchy", "David", "Crisis"],
                hint_ja: "15章の蜂起と18章の結末を対比すると「王国の揺れ」が見える\nダビデ晩年寄りとして40年統治の終盤へ置く",
                hint_en: "Compare uprising (ch.15) with outcome (ch.18) to sense the kingdom’s instability\nPlace it late within David’s reign"
            },

            {
                id: 39500, ja: "ソロモンが王となる", en: "Solomon becomes king",
                year: -1037, month: 1, day: 1, ref: "1Ki 1:39", rank: 1,
                tags: ["Monarchy", "Solomon", "MajorAnchor"],
                hint_ja: "神殿年代へ入る入口（世代交代の節目）\n1王2:11（ダビデ40年）と並べて交代を固定",
                hint_en: "Gateway into the temple chronology (clear generational handoff)\nFix the transition by pairing with 1Ki 2:11 (David’s 40-year reign)"
            },

            {
                id: 40000, ja: "ソロモンが知恵を求める", en: "Solomon asks for wisdom",
                year: -1037, month: 1, day: 1, ref: "1Ki 3:9", rank: 2,
                tags: ["Monarchy", "Solomon", "Wisdom"],
                hint_ja: "3章の祈りと4:29-34（知恵の広がり）をセットで読むと主題が深まる\n即位直後の出来事として年代配置しやすい",
                hint_en: "Read 1Ki 3 with 1Ki 4:29-34 to see wisdom’s scope\nEasy to date as early-reign context"
            },

            {
                id: 40500, ja: "神殿建設開始（ソロモン）", en: "Temple construction begins (4th year)",
                year: -1034, month: 1, day: 1, ref: "1Ki 6:1", rank: 1,
                tags: ["Monarchy", "Temple", "Chronology", "MajorAnchor"],
                hint_ja: "年代研究の最強クラス二重アンカー\n1王6:1「出エジプト480年＋第4年」で確定",
                hint_en: "Top-tier dual chronology anchor\n1Ki 6:1 fixes it via “480 years from Exodus + Solomon’s 4th year”"
            },

            {
                id: 41000, ja: "神殿完成（ソロモン）", en: "Temple finished (11th year)",
                year: -1027, month: 1, day: 1, ref: "1Ki 6:38", rank: 1,
                tags: ["Monarchy", "Temple", "Chronology", "MajorAnchor"],
                hint_ja: "工期が計算できる明記年アンカー\n6:1（第4年）→6:38（第11年）で枠を固定",
                hint_en: "Explicit-year anchor that lets you calculate the build duration\nFix the frame by linking 6:1 (4th year) → 6:38 (11th year)"
            },

            {
                id: 41500, ja: "神殿奉献と祈り", en: "Temple dedication and Solomon’s prayer",
                year: -1026, month: 1, day: 1, ref: "1Ki 8:22", rank: 2,
                tags: ["Monarchy", "Temple", "Worship"],
                hint_ja: "8章（奉献）と2歴代5-7章（並行記事）を照らすと描写が立体化\n神殿完成直後の流れとして年代配置しやすい",
                hint_en: "Compare 1Ki 8 with 2Chr 5–7 for parallel details\nNaturally placed soon after temple completion"
            },

            {
                id: 42000, ja: "ソロモンの繁栄と国際的名声", en: "Solomon’s prosperity and international fame",
                year: -1000, month: 1, day: 1, ref: "1Ki 10:1", rank: 3,
                tags: ["Monarchy", "Solomon", "Diplomacy"],
                hint_ja: "10章（シバ）と4:20-25（国内繁栄）を並べると「内と外」の繁栄が見える\nただし具体年がないので統治枠（11:42）で相対配置",
                hint_en: "Read 1Ki 10 with 1Ki 4:20-25 for internal vs external prosperity\nDate it relatively within Solomon’s reign frame (1Ki 11:42)"
            },

            {
                id: 42500, ja: "ソロモンの背教と裁きの宣告", en: "Solomon’s apostasy and judgment pronounced",
                year: -1000, month: 1, day: 1, ref: "1Ki 11:4", rank: 2,
                tags: ["Monarchy", "Solomon", "Apostasy"],
                hint_ja: "11:4（心が逸れる）と11:11-13（王国が裂かれる宣告）を続けて読む\n分裂へ向かう「理由」がここで見える",
                hint_en: "Read 1Ki 11:4 together with 11:11-13 to see cause and judgment\nThis sets up the kingdom division"
            },

            {
                id: 43000, ja: "ソロモンの死（40年統治）", en: "Death of Solomon (40-year reign)",
                year: -997, month: 1, day: 1, ref: "1Ki 11:43", rank: 1,
                tags: ["Monarchy", "Solomon", "MajorAnchor"],
                hint_ja: "分裂直前の強アンカー（王国前半の骨格が固まる）\n1王11:42-43で統治年数が確定する",
                hint_en: "Strong anchor immediately before the division (solidifies early monarchy framework)\n1Ki 11:42–43 explicitly fixes the reign length"
            },

            {
                id: 43500, ja: "王国分裂（レハベアムの時代）", en: "Kingdom divided under Rehoboam",
                year: -997, month: 1, day: 1, ref: "1Ki 12:19", rank: 1,
                tags: ["Monarchy", "Division", "Israel", "Judah", "MajorAnchor"],
                hint_ja: "南北史の分岐点（ここから2本立てになる）\n1王11:43→12章の流れで直後配置が安定",
                hint_en: "Major split point: the narrative becomes two parallel kingdoms\nPlacement is stable by following the flow from 1Ki 11:43 into ch.12"
            },

            {
                id: 44000, ja: "ヤラベアムの金の子牛（北王国の偶像化）", en: "Jeroboam’s golden calves (northern apostasy)",
                year: -997, month: 1, day: 1, ref: "1Ki 12:28", rank: 5,
                tags: ["Monarchy", "Israel", "Idolatry"],
                hint_ja: "12:28-33と13章（預言としるし）を並べると「制度化された偽りの崇拝」が見える\n北王国史はこの起点を覚えると追いやすい",
                hint_en: "Read 1Ki 12:28-33 with ch.13 to see institutionalized false worship\nThis is a key starting point for the northern kingdom timeline"
            },

            {
                id: 44500, ja: "シシャクの侵攻（ユダ）", en: "Shishak invades Judah",
                year: -993, month: 1, day: 1, ref: "1Ki 14:25-26", rank: 2,
                tags: ["Monarchy", "Judah", "Egypt"],
                hint_ja: "1王14:25-26と2歴代12章を比較すると略奪の具体像が増す\n分裂直後の数年目として年代の目安になる",
                hint_en: "Compare 1Ki 14:25-26 with 2Chr 12 for fuller detail\nA useful early marker soon after the division"
            },

            {
                id: 45000, ja: "アハブ王の死（北王国の転機）", en: "Death of King Ahab",
                year: -897, month: 1, day: 1, ref: "1Ki 22:34", rank: 3,
                tags: ["Monarchy", "Israel", "Ahab"],
                hint_ja: "列王記上22章と歴代の補足を照合し「戦死の経緯」を追う\nここを境にエリヤ〜エリシャ期の出来事整理がしやすい",
                hint_en: "Track Ahab’s death narrative in 1Ki 22 for a turning point marker\nHelps organize the Elijah–Elisha era events"
            },

            /* --- 預言者たちの時代とエルサレム滅亡 (-844 〜 -539) --- */

            {
                id: 48000, ja: "預言者ヨナの宣教（ニネベ）", en: "Jonah's mission",
                year: -844, month: 1, day: 1, ref: "Jonah 3:3", rank: 2,
                tags: ["Prophets", "Nineveh", "Assyria"],
                hint_ja: "巨大な魚に飲み込まれた後の出来事\n異邦人への警告という点が特徴",
                hint_en: "After being swallowed by a great fish\nNotable as a warning to a foreign city"
            },

            {
                id: 48500, ja: "エリシャの死", en: "Death of Elisha",
                year: -840, month: 1, day: 1, ref: "2Ki 13:20", rank: 4,
                tags: ["Prophets", "Israel", "Elisha"],
                hint_ja: "死後も出来事が語られる預言者\n列王記の流れの中盤の目印",
                hint_en: "A prophet whose account continues even after death\nA mid-point marker within Kings"
            },

            {
                id: 49000, ja: "アモスが預言を始める", en: "Amos starts prophesying",
                year: -804, month: 1, day: 1, ref: "Amos 1:1", rank: 5,
                tags: ["Prophets", "Israel", "Judgment"],
                hint_ja: "ウジヤ王とヤロブアム2世の時代\n北王国の繁栄期に警告が響く",
                hint_en: "During Uzziah and Jeroboam II\nA warning delivered in a time of prosperity"
            },

            {
                id: 49500, ja: "ウジヤ王が重い皮膚病になる", en: "Uzziah becomes leprous",
                year: -770, month: 1, day: 1, ref: "2Chr 26:19", rank: 5,
                tags: ["Judah", "Kings", "Temple"],
                hint_ja: "傲慢になり神殿で香を捧げようとした\n王が退き、共同統治の流れを思い出す",
                hint_en: "Stricken for presumption in the temple\nHelps place the shift toward co-regency"
            },

            {
                id: 50000, ja: "イザヤが預言者に任命される", en: "Isaiah commissioned",
                year: -778, month: 1, day: 1, ref: "Isa 6:1", rank: 3,
                tags: ["Prophets", "Judah", "Isaiah"],
                hint_ja: "「ウジヤ王が死んだ年」が手掛かり\nイザヤ書の長い活動期の起点になる",
                hint_en: "Keyed to 'the year King Uzziah died'\nA starting marker for Isaiah's long ministry"
            },

            {
                id: 50300, ja: "ミカが預言を始める", en: "Micah starts prophesying",
                year: -777, month: 1, day: 1, ref: "Mic 1:1", rank: 3,
                tags: ["Prophets", "Judah", "Messiah"],
                hint_ja: "支配者がベツレヘムから出ると示す\nイザヤと近い時期として並べやすい",
                hint_en: "Points to the ruler coming from Bethlehem\nEasy to bracket near Isaiah's timeframe"
            },

            {
                id: 50500, ja: "ホセアが預言を始める", en: "Hosea starts prophesying",
                year: -748, month: 1, day: 1, ref: "Hos 1:1", rank: 4,
                tags: ["Prophets", "Israel", "Warning"],
                hint_ja: "北王国の霊的崩壊を鋭く告発\nサマリア陥落へ向かう流れの前段",
                hint_en: "A sharp indictment of the northern kingdom\nLeads toward the setting for Samaria's fall"
            },

            {
                id: 51000, ja: "アッシリアによるサマリア陥落", en: "Fall of Samaria",
                year: -740, month: 1, day: 1, ref: "2Ki 17:6", rank: 2,
                tags: ["Assyria", "Israel", "Exile"],
                hint_ja: "北のイスラエル王国が滅亡\nユダへの警告として比較しやすい出来事",
                hint_en: "Northern kingdom ended in exile\nA key comparison point for warnings to Judah"
            },

            {
                id: 51500, ja: "イザヤの預言（処女が身ごもる）", en: "Isaiah's prophecy of Immanuel",
                year: -740, month: 1, day: 2, ref: "Isa 7:14", rank: 2,
                tags: ["Isaiah", "Prophecy", "Messiah"],
                hint_ja: "「見よ、若い女が妊娠して…」の節\n王たちの時代背景と結びつけて覚える",
                hint_en: "Includes 'Look! the young woman will become pregnant'\nTie it to the royal setting in context"
            },

            {
                id: 52000, ja: "ヒゼキヤが王になる", en: "Hezekiah becomes King",
                year: -745, month: 1, day: 1, ref: "2Ki 18:1", rank: 3,
                tags: ["Judah", "Kings", "Reform"],
                hint_ja: "ユダの善良な王の代表格\nアッシリア圧力が強まる時期の王",
                hint_en: "A leading example of a good king of Judah\nReigns as Assyrian pressure intensifies"
            },

            {
                id: 52500, ja: "ヒゼキヤが過越を祝う", en: "Hezekiah's Great Passover",
                year: -740, month: 2, day: 1, ref: "2Chr 30:1", rank: 4,
                tags: ["Judah", "Worship", "Passover"],
                hint_ja: "北の部族にも呼びかけて行った過越\n分裂後でも一致を促した点が印象的",
                hint_en: "Invited even the northern tribes to Jerusalem\nMemorable as an appeal for unity after division"
            },

            {
                id: 52800, ja: "ヒゼキヤのトンネル完成", en: "Hezekiah's Tunnel",
                year: -732, month: 1, day: 1, ref: "2Ki 20:20", rank: 5,
                tags: ["Judah", "Jerusalem", "Assyria"],
                hint_ja: "包囲に備えて水を都へ引き込む工事\nセナケリブ侵入とセットで覚えやすい",
                hint_en: "Secured Jerusalem's water supply for siege\nPairs naturally with Sennacherib's invasion"
            },

            {
                id: 53000, ja: "セナケリブの侵入", en: "Sennacherib invades",
                year: -732, month: 1, day: 1, ref: "2Ki 19:35", rank: 2,
                tags: ["Assyria", "Judah", "Deliverance"],
                hint_ja: "一晩で18万5千が倒れた記述が有名\n包囲と救出の対比が年代の目印になる",
                hint_en: "Known for the 185,000 struck down in one night\nA strong timeline marker of siege vs deliverance"
            },

            {
                id: 53500, ja: "ヒゼキヤの命が15年延びる", en: "Hezekiah's life extended",
                year: -732, month: 1, day: 2, ref: "2Ki 20:6", rank: 4,
                tags: ["Judah", "Kings", "Sign"],
                hint_ja: "15年延命の約束と「しるし」が与えられる\n救出の後の出来事として順番を意識する",
                hint_en: "Promise of 15 more years with a confirming sign\nPlace it after the deliverance narrative"
            },

            {
                id: 54000, ja: "マナセが王になる", en: "Manasseh becomes King",
                year: -716, month: 1, day: 1, ref: "2Ki 21:1", rank: 4,
                tags: ["Judah", "Kings", "Apostasy"],
                hint_ja: "55年統治という長さが手掛かり\n霊的に暗い時代の象徴として覚える",
                hint_en: "His 55-year reign is the standout clue\nOften remembered as a dark spiritual period"
            },

            {
                id: 54500, ja: "マナセの捕囚と悔い改め", en: "Manasseh's repentance",
                year: -670, month: 1, day: 1, ref: "2Chr 33:12", rank: 4,
                tags: ["Judah", "Repentance", "Babylon"],
                hint_ja: "バビロンに連行された後に謙遜になった\n列王記より歴代の補足が年代の助けになる",
                hint_en: "He humbled himself after being taken to Babylon\nChronicles adds detail that helps placement"
            },

            {
                id: 55000, ja: "ヨシアが王になる", en: "Josiah becomes King",
                year: -659, month: 1, day: 1, ref: "2Ki 22:1", rank: 3,
                tags: ["Judah", "Kings", "Reform"],
                hint_ja: "8歳即位と改革がポイント\n滅亡前の「最後の光」のように位置づけられる",
                hint_en: "Known for being crowned at 8 and for reform\nOften viewed as a 'last bright period' before collapse"
            },

            {
                id: 55500, ja: "律法の書が発見される", en: "Book of the Law found",
                year: -642, month: 1, day: 1, ref: "2Ki 22:8", rank: 3,
                tags: ["Judah", "Temple", "Law"],
                hint_ja: "神殿修理中に発見され改革が加速\n申命記との関連を思い出すと覚えやすい",
                hint_en: "Found during temple repairs, fueling reform\nEasy to link with the covenant/Deuteronomy theme"
            },

            {
                id: 56000, ja: "エレミヤが預言を始める", en: "Jeremiah starts prophesying",
                year: -647, month: 1, day: 1, ref: "Jer 1:2", rank: 3,
                tags: ["Prophets", "Judah", "Jeremiah"],
                hint_ja: "ヨシア治世の第13年が鍵\n滅亡へ向かう「警告の声」の中心人物",
                hint_en: "Keyed to Josiah's 13th year\nA central voice of warning on the road to destruction"
            },

            {
                id: 56200, ja: "ゼパニヤの預言", en: "Zephaniah's prophecy",
                year: -640, month: 1, day: 1, ref: "Zeph 1:1", rank: 5,
                tags: ["Prophets", "Judah", "DayOfJehovah"],
                hint_ja: "「エホバの怒りの日」を強調する預言\nヨシア期の警告としてエレミヤと並べやすい",
                hint_en: "Highlights 'the day of Jehovah's anger'\nPairs well near Jeremiah within Josiah's era"
            },

            {
                id: 56400, ja: "ヨシア王の死", en: "Death of King Josiah",
                year: -629, month: 1, day: 1, ref: "2Ki 23:29", rank: 4,
                tags: ["Judah", "Kings", "Egypt"],
                hint_ja: "メギドでネコと戦い戦死した\nこの後、国が急速に傾く流れの合図になる",
                hint_en: "Killed at Megiddo fighting Pharaoh Necho\nA turning point before Judah's rapid decline"
            },

            {
                id: 56600, ja: "ナホムの預言（ニネベの滅亡）", en: "Nahum's prophecy",
                year: -632, month: 1, day: 1, ref: "Nah 1:1", rank: 5,
                tags: ["Prophets", "Assyria", "Nineveh"],
                hint_ja: "血の都ニネベの終わりを宣告\nアッシリア支配の終焉を見据える手掛かり",
                hint_en: "Announces the end of bloody Nineveh\nHelps track the approaching fall of Assyria"
            },

            {
                id: 56800, ja: "ハバククの預言", en: "Habakkuk's prophecy",
                year: -628, month: 1, day: 1, ref: "Hab 1:1", rank: 4,
                tags: ["Prophets", "Judah", "Faith"],
                hint_ja: "「正しい人は忠実さによって生きる」が鍵\nバビロン台頭期の不安と対比して覚える",
                hint_en: "Key line: 'the righteous one will live by faithfulness'\nRemember it against the rise of Babylon"
            },

            {
                id: 57000, ja: "ダニエルがバビロンへ連れ去られる", en: "Daniel taken to Babylon",
                year: -617, month: 1, day: 1, ref: "Dan 1:1-4", rank: 2,
                tags: ["Babylon", "Exile", "Daniel"],
                hint_ja: "捕囚のはじまりを示す出来事として重要\nエルサレム滅亡より前段階での移送",
                hint_en: "A key marker for the beginning phase of exile\nOccurs before Jerusalem's final destruction"
            },

            {
                id: 57500, ja: "ダニエルが夢を解く（巨像）", en: "Daniel interprets the image",
                year: -606, month: 1, day: 1, ref: "Dan 2:31", rank: 2,
                tags: ["Babylon", "Prophecy", "WorldPowers"],
                hint_ja: "金・銀・銅・鉄の世界強国の流れ\n歴史の大枠を示す預言として位置づける",
                hint_en: "Traces world powers (gold to iron)\nA framework prophecy that anchors later history"
            },

            {
                id: 58000, ja: "エルサレム滅亡（バビロン）", en: "Jerusalem destroyed (Babylon)",
                year: -607, month: 10, day: 1, ref: "2Ki 25:8", rank: 1,
                tags: ["Jerusalem", "Babylon", "Destruction"],
                hint_ja: "都と神殿焼失＝旧約後半の最大アンカー\n2王25章周辺の捕囚記事と順序照合で固定",
                hint_en: "City and temple burned—one of the biggest late-OT anchors\nFix the sequence by checking the exile accounts around 2 Kings 25"
            },

            {
                id: 58500, ja: "3人の若者が火の炉へ", en: "Three Hebrews in the furnace",
                year: -600, month: 1, day: 1, ref: "Dan 3:19", rank: 2,
                tags: ["Babylon", "Faith", "Deliverance"],
                hint_ja: "偶像礼拝を拒否して守られた\nダニエル記の初期の信仰の試練として覚える",
                hint_en: "Refused idolatry and were rescued\nAn early Daniel marker of tested loyalty"
            },

            {
                id: 59000, ja: "エゼキエルが預言を始める", en: "Ezekiel starts prophesying",
                year: -613, month: 1, day: 1, ref: "Eze 1:1,2", rank: 3,
                tags: ["Prophets", "Exile", "Ezekiel"],
                hint_ja: "捕囚の第5年・ケバル川が手掛かり\nエレミヤとの同時代性を意識すると整理しやすい",
                hint_en: "Keyed to the 5th year of exile by the Chebar\nHelps align Ezekiel alongside Jeremiah's era"
            },

            {
                id: 59500, ja: "ネブカドネザルの狂気", en: "Nebuchadnezzar's madness",
                year: -568, month: 1, day: 1, ref: "Dan 4:33", rank: 3,
                tags: ["Babylon", "Kings", "Humility"],
                hint_ja: "「7つの時」の間、獣のように過ごした\n王の高慢が砕かれる対比が記憶の鍵",
                hint_en: "Lived like a beast for 'seven times'\nThe contrast—pride broken into humility—is the clue"
            },

            {
                id: 59800, ja: "壁の文字（メネ・メネ）", en: "Writing on the wall",
                year: -539, month: 10, day: 5, ref: "Dan 5:25", rank: 3,
                tags: ["Babylon", "Judgment", "Daniel"],
                hint_ja: "ベルシャザルの宴会で裁きが宣告された\nバビロン陥落と同夜の出来事として覚える",
                hint_en: "Judgment announced at Belshazzar's feast\nRemember it as the same night Babylon fell"
            },

            {
                id: 60000, ja: "バビロン陥落", en: "Fall of Babylon",
                year: -539, month: 10, day: 5, ref: "Dan 5:30", rank: 1,
                tags: ["Babylon", "Persia", "Cyrus"],
                hint_ja: "帝国交代の強アンカー（ダニ5章で同夜が確定）\nダニ5:30-31の流れで“その夜”として固定できる",
                hint_en: "Strong anchor for the transfer of empire (fixed as the same night in Daniel 5)\nLock it as “that very night” by following Dan 5:30–31"
            },

            {
                id: 60500, ja: "ダニエルがライオンの穴に", en: "Daniel in the lions' den",
                year: -538, month: 1, day: 1, ref: "Dan 6:16", rank: 2,
                tags: ["Persia", "Faith", "Daniel"],
                hint_ja: "新支配下でも祈りをやめなかった\nバビロン陥落後の時代に置くのが手掛かり",
                hint_en: "He kept praying under the new regime\nPlace it after Babylon's fall to anchor the era"
            },

            /* --- 7. 捕囚からの復興と再建 (-537 〜 -443) --- */

            {
                id: 61000, ja: "エルサレム帰還", en: "Return to Jerusalem",
                year: -537, month: 10, day: 1, ref: "Ezra 1:1", rank: 2,
                tags: ["Return", "Jerusalem", "Persia"],
                hint_ja: "エズ1章と2歴代36:22-23を見比べると帰還命令の文言が対応する\nエルサレム滅亡（2王25章）からの回復の起点として固定できる",
                hint_en: "Compare Ezra 1 with 2Chr 36:22-23 for parallel decree wording\nAnchor it as the restoration start after Jerusalem’s fall"
            },

            {
                id: 61200, ja: "再建の神殿の土台が据えられる", en: "Second Temple foundation laid",
                year: -536, month: 1, day: 1, ref: "Ezra 3:10", rank: 4,
                tags: ["Temple", "Restoration", "Jerusalem"],
                hint_ja: "エズ3章前半（祭壇）と10節以降（基礎）を続けて読むと礼拝回復の順序が見える\n完成節（6:15）との対比で年代位置が把握できる",
                hint_en: "Read early Ezra 3 with v10 onward to trace restoration sequence\nContrast with 6:15 to place chronologically"
            },

            {
                id: 61500, ja: "ハガイとゼカリヤの預言", en: "Haggai and Zechariah",
                year: -520, month: 1, day: 1, ref: "Ezra 5:1", rank: 4,
                tags: ["Prophets", "Temple", "Encouragement"],
                hint_ja: "エズ4:24（停止）→5:1（再開）を連続で読むと流れが明確\nハガ1章・ゼカ1章を照合すると再建再始動の背景が立体化する",
                hint_en: "Read Ezra 4:24→5:1 to see interruption and restart\nCompare Hag 1 and Zech 1 for context depth"
            },

            {
                id: 62000, ja: "再建された神殿の完成", en: "Second Temple finished",
                year: -515, month: 3, day: 1, ref: "Ezra 6:15", rank: 3,
                tags: ["Temple", "Completion", "Persia"],
                hint_ja: "6:15と3:10を見比べると再建期間の枠が見える\nペルシャ王年代（ダリウス）を基準に固定できる節",
                hint_en: "Compare Ezra 6:15 with 3:10 to frame build duration\nPersian regnal dating anchors placement"
            },

            {
                id: 62500, ja: "ハマンの陰謀", en: "Haman's plot",
                year: -474, month: 1, day: 1, ref: "Est 3:8", rank: 2,
                tags: ["Esther", "Persia", "Threat"],
                hint_ja: "エス3章の告発と9章の逆転を対比すると物語の軸が見える\n帰還地外の並行年代として神殿史と分けて配置する",
                hint_en: "Contrast Est 3 with ch9 outcome to see narrative arc\nPlace parallel to restoration timeline outside Jerusalem"
            },

            {
                id: 63000, ja: "エステルが王妃になる", en: "Esther becomes Queen",
                year: -484, month: 1, day: 1, ref: "Est 2:16", rank: 2,
                tags: ["Esther", "Persia", "Court"],
                hint_ja: "2章（王妃選出）と3章（陰謀）を続けて読むと配置関係が理解しやすい\nクセルクセス治世年代で固定可能",
                hint_en: "Read Est 2 with ch3 to see plot sequence\nAnchor via Xerxes regnal context"
            },

            {
                id: 64000, ja: "エズラがエルサレムに戻る", en: "Ezra returns to Jerusalem",
                year: -468, month: 1, day: 1, ref: "Ezra 7:7", rank: 3,
                tags: ["Ezra", "Law", "Restoration"],
                hint_ja: "エズ6章（神殿完成）と7章を並べると再建→律法改革の段階差が見える\n王年表記（7:7）が年代固定の鍵になる",
                hint_en: "Read Ezra 6 then 7 to see phase shift temple→law reform\nRegnal year note anchors dating"
            },

            {
                id: 64500, ja: "ネヘミヤがエルサレムへ", en: "Nehemiah sent to Jerusalem",
                year: -455, month: 1, day: 1, ref: "Neh 2:1", rank: 2,
                tags: ["Nehemiah", "Jerusalem", "Walls"],
                hint_ja: "ネヘ1章の嘆きと2章の派遣を続けて読むと動機と行動が結び付く\nダニ9章の再建命令と関連付け年代基準になる",
                hint_en: "Read Neh 1→2 to link concern and mission\nConnect with Dan 9 timeline anchor"
            },

            {
                id: 65000, ja: "エルサレムの城壁再建", en: "Rebuilding Jerusalem's Walls",
                year: -455, month: 9, day: 1, ref: "Neh 6:15", rank: 2,
                tags: ["Jerusalem", "Walls", "Restoration"],
                hint_ja: "ネヘ2章開始と6:15完成を比較すると工期の短さが際立つ\n都市再建段階の到達点として位置付けられる",
                hint_en: "Compare Neh 2 start with 6:15 completion\nMarks urban restoration milestone"
            },

            {
                id: 65500, ja: "70週の預言が始まる", en: "Prophecy of 70 weeks begins",
                year: -455, month: 1, day: 1, ref: "Dan 9:24", rank: 3,
                tags: ["Prophecy", "Messianic", "Timeline"],
                hint_ja: "ダニ9章とネヘ2章の再建命令を照合すると起点理解が深まる\n以後のメシア年代計算の基準節になる",
                hint_en: "Cross-read Dan 9 with Neh 2 decree context\nFoundation for messianic timeline counting"
            },

            {
                id: 66000, ja: "マラキの預言", en: "Malachi's prophecy",
                year: -443, month: 1, day: 1, ref: "Mal 1:1", rank: 4,
                tags: ["Prophets", "HebrewScriptures", "Final"],
                hint_ja: "ネヘ末期状況と照合すると宗教状態の評価が重なる\n旧約預言活動の終点として配置しやすい",
                hint_en: "Compare with Nehemiah context for spiritual state\nPlaced as closing prophetic voice"
            },

            {
                id: 66500, ja: "アレクサンドロス大王の台頭", en: "Rise of Alexander the Great",
                year: -332, month: 1, day: 1, ref: "Dan 8:5", rank: 2,
                tags: ["Greece", "WorldPower", "Prophecy"],
                hint_ja: "ダニ8章の象徴描写と歴史展開を対照すると位置が掴める\nペルシャ後の世界勢力転換点として扱う",
                hint_en: "Compare Dan 8 imagery with history\nMarker of post-Persian world shift"
            },

            {
                id: 66800, ja: "セプトゥアギンタ訳の開始", en: "Septuagint translation starts",
                year: -280, month: 1, day: 1, ref: "-", rank: 3,
                tags: ["Scripture", "Translation", "Greek"],
                hint_ja: "ディアスポラ拡大背景と並べると必要性が理解できる\n新約時代準備段階として相対配置できる",
                hint_en: "Consider diaspora expansion context\nPlaced as preparatory stage for NT era"
            },

            /* --- 8. イエスの生涯（誕生前〜死） (-3 〜 33) --- */

            {
                id: 67000, ja: "イエスの誕生", en: "Birth of Jesus",
                year: -2, month: 10, day: 1, ref: "Luke 2:7", rank: 1,
                tags: ["Jesus", "Birth", "MajorAnchor"],
                hint_ja: "導入アンカー（ここから宣教開始へ相対配置する）\nルカ2章→ルカ3:23（約30歳）へつなぐ基準点",
                hint_en: "Intro anchor for placing the ministry start relatively from here\nUse Luke 2, then connect forward to Luke 3:23 (~30 years old)"
            },

            {
                id: 67500, ja: "羊飼いたちが幼子イエスを訪ねる", en: "Shepherds visit the infant Jesus",
                year: -2, month: 10, day: 2, ref: "Luke 2:16", rank: 5,
                tags: ["Jesus", "Birth", "Shepherds"],
                hint_ja: "ルカ2:8-20を続けて読むと「天使の知らせ→訪問」が一続きで固定できる\n誕生イベント（2:7）直後の出来事として並べやすい",
                hint_en: "Read Luke 2:8-20 straight to lock announce→visit sequence\nEasy to place immediately after Luke 2:7"
            },

            {
                id: 68000, ja: "東方の占星術師たちが幼子イエスを訪問する", en: "Magi visit the child Jesus",
                year: -2, month: 12, day: 1, ref: "Matt 2:1-12", rank: 4,
                tags: ["Jesus", "Magi", "Herod"],
                hint_ja: "マタ2章を通読すると「訪問→ヘロデ動揺→帰路変更」の流れが固定できる\nルカ2章（羊飼い）と混同せず“別場面”として整理すると順序が崩れない",
                hint_en: "Read Matt 2 to fix visit→Herod alarm→return-by-another-route\nKeep distinct from Luke 2 shepherd scene to avoid mixing"
            },

            {
                id: 68200, ja: "イエスの家族がエジプトへ逃避する", en: "Jesus’ family flees to Egypt",
                year: -1, month: 1, day: 1, ref: "Matt 2:14-15", rank: 4,
                tags: ["Jesus", "Egypt", "Protection"],
                hint_ja: "マタ2:13-15（夢の警告→出発）を押さえると順序が明確\n占星術師訪問（2:1-12）より後、帰還（2:19-23）より前で固定できる",
                hint_en: "Matt 2:13-15 locks warning→departure sequence\nFixed after Magi visit and before the return (Matt 2:19-23)"
            },

            {
                id: 68500, ja: "ヘロデ大王の死と帰還の指示", en: "Herod the Great dies; return is directed",
                year: -1, month: 1, day: 1, ref: "Matt 2:19-21", rank: 4,
                tags: ["Herod", "Jesus", "Return"],
                hint_ja: "マタ2:19-21で「死→帰還命令」が明記されるので流れが固い\nエジプト逃避（2:14-15）の直後段として接続できる",
                hint_en: "Matt 2:19-21 explicitly links death→return instruction\nConnect it right after the Egypt flight account"
            },

            {
                id: 69000, ja: "12歳のイエスが神殿で教師たちと話す", en: "12-year-old Jesus in the temple",
                year: 12, month: 4, day: 1, ref: "Luke 2:41-49", rank: 3,
                tags: ["Jesus", "Temple", "Childhood"],
                hint_ja: "ルカ2:41-52は少年期唯一の具体記事で、前後の沈黙期を区切る\n「約30歳」（ルカ3:23）へ跳ぶ前の中間アンカーとして便利",
                hint_en: "Luke 2:41-52 is the lone detailed youth account, dividing the silent years\nUseful midpoint anchor before Luke 3:23 (~30)"
            },

            {
                id: 70000, ja: "バプテスマを施すヨハネが宣教を開始する", en: "John the Baptist begins preaching",
                year: 29, month: 4, day: 1, ref: "Luke 3:1-3", rank: 2,
                tags: ["JohnBaptist", "Ministry", "MajorAnchor"],
                hint_ja: "ルカ3:1-2の支配者列挙は年代固定の強アンカー（「第15年」）\nここからイエスのバプテスマ（3:21-23）へ本文が直結する",
                hint_en: "Luke 3:1-2 ruler list is a strong dating anchor (15th year)\nThe narrative flows straight into Jesus’ baptism (Luke 3:21-23)"
            },

            {
                id: 71000, ja: "イエスがバプテスマを受ける", en: "Jesus is baptized",
                year: 29, month: 10, day: 1, ref: "Matt 3:13-17", rank: 1,
                tags: ["Jesus", "Baptism", "MajorAnchor"],
                hint_ja: "宣教開始の絶対アンカー（物語がここから動く）\nルカ3:23の“約30歳”で年代感を固定できる",
                hint_en: "Absolute anchor for the start of Jesus’ ministry (the narrative pivots here)\nFix the age clue using Luke 3:23 (“about 30 years old”)”"
            },

            {
                id: 71500, ja: "イエスが荒野で試みに遭う（40日）", en: "Jesus is tempted in the wilderness (40 days)",
                year: 29, month: 10, day: 2, ref: "Matt 4:1-2", rank: 3,
                tags: ["Jesus", "Temptation", "Wilderness"],
                hint_ja: "マタ4章とルカ4章を比較すると出来事の並びが確認できる\nバプテスマ直後として順序固定しやすいイベント",
                hint_en: "Compare Matt 4 with Luke 4 to verify ordering\nEasily fixed immediately after baptism"
            },

            {
                id: 72000, ja: "イエスの最初の奇跡（カナの婚礼）", en: "Jesus’ first miracle (Cana)",
                year: 30, month: 1, day: 1, ref: "John 2:1-11", rank: 3,
                tags: ["Jesus", "Miracle", "Cana"],
                hint_ja: "ヨハ2:11は「最初のしるし」と明記され、順序が確定する\nこの後の“過越”場面（2:13）へつなげると配置が安定",
                hint_en: "John 2:11 labels it the first sign, fixing order\nLink forward to the Passover scene (John 2:13) for stable placement"
            },

            {
                id: 73000, ja: "イエスが神殿を清める（過越の時）", en: "Jesus cleanses the temple (Passover)",
                year: 30, month: 4, day: 1, ref: "John 2:13-17", rank: 4,
                tags: ["Jesus", "Temple", "Passover"],
                hint_ja: "ヨハ2:13（過越）→2:15-17（清め）の流れで順序が固い\nカナの最初のしるし（2:1-11）の後として整理しやすい",
                hint_en: "John 2:13→15-17 fixes Passover→cleansing sequence\nNaturally placed after the Cana first sign (John 2:1-11)"
            },

            {
                id: 74500, ja: "イエスが4人の漁師を弟子として呼ぶ", en: "Jesus calls four fishermen",
                year: 31, month: 1, day: 1, ref: "Luke 5:10-11", rank: 3,
                tags: ["Jesus", "Disciples", "Calling"],
                hint_ja: "ルカ5章の出来事は「召し→従う」が明確で、弟子形成の段階が分かる\n12使徒選出（ルカ6:12-16）へ向かう前段として置ける",
                hint_en: "Luke 5 clearly shows call→follow, marking disciple formation stage\nPlace it before the choosing of the Twelve (Luke 6:12-16)"
            },

            {
                id: 75000, ja: "イエスが12使徒を選出する", en: "Jesus chooses the twelve apostles",
                year: 31, month: 1, day: 1, ref: "Luke 6:12-16", rank: 2,
                tags: ["Jesus", "Apostles", "MajorAnchor"],
                hint_ja: "ルカ6:12（徹夜の祈り）→6:13（選出）で順序と重みが固定できる\n以後の出来事で「12」が核となるので配置アンカーになる",
                hint_en: "Luke 6:12 (all-night prayer)→6:13 (selection) fixes sequence and weight\nBecomes a recurring anchor since the Twelve are central thereafter"
            },

            {
                id: 76400, ja: "バプテスマを施すヨハネが処刑される", en: "John the Baptist is executed",
                year: 32, month: 3, day: 1, ref: "Mark 6:27", rank: 3,
                tags: ["JohnBaptist", "Persecution", "Herod"],
                hint_ja: "マル6章を読むと宴席→命令→処刑が一続きで、出来事順が固い\n以後イエスの活動が広がる場面と併置すると流れを掴みやすい",
                hint_en: "Mark 6 gives banquet→order→execution as a single chain, fixing order\nPlace it before later expansion episodes for narrative flow"
            },

            {
                id: 76500, ja: "イエスが5000人に給食する", en: "Jesus feeds the 5,000",
                year: 32, month: 4, day: 1, ref: "John 6:10-13", rank: 3,
                tags: ["Jesus", "Miracle", "Galilee"],
                hint_ja: "ヨハ6章は給食→反応→後続出来事へ続くので順序が安定する\n次の「水の上を歩く」（マタ14:25）とセットで覚えやすい",
                hint_en: "John 6 flows feeding→reaction→follow-up, stabilizing the sequence\nPairs naturally with walking on water (Matt 14:25)"
            },

            {
                id: 76600, ja: "イエスが水の上を歩く", en: "Jesus walks on water",
                year: 32, month: 4, day: 2, ref: "Matt 14:25", rank: 4,
                tags: ["Jesus", "Miracle", "Faith"],
                hint_ja: "給食直後の夜の出来事として福音書内で連結され、並びが固い\n同じ区間で「嵐」関連記事を比較すると記憶に残る",
                hint_en: "Linked as a night event following the feeding, fixing its position\nComparing storm-related parallels helps retention"
            },

            {
                id: 76700, ja: "イエスが変貌する", en: "Jesus is transfigured",
                year: 32, month: 10, day: 1, ref: "Matt 17:1-2", rank: 3,
                tags: ["Jesus", "Transfiguration", "Prophecy"],
                hint_ja: "マタ17:1-2（6日後）など時間手掛かりがあり、流れの中で相対配置できる\n並行記事（マル9章・ルカ9章）を照合すると場面が固定される",
                hint_en: "Time cues (e.g., 'after six days') help relative placement within the flow\nCross-check Mark 9 / Luke 9 to lock the scene"
            },

            {
                id: 76900, ja: "イエスが70人の弟子を派遣する", en: "Jesus sends out the seventy",
                year: 32, month: 12, day: 1, ref: "Luke 10:1", rank: 4,
                tags: ["Jesus", "Disciples", "Ministry"],
                hint_ja: "ルカ10章は派遣→帰還→教えが連結していて出来事の順が固い\n12使徒選出後の“働きの拡大”として位置付けやすい",
                hint_en: "Luke 10 links sending→return→instruction, fixing the sequence\nEasy to frame as ministry expansion after the Twelve are chosen"
            },

            {
                id: 77000, ja: "イエスがラザロを復活させる", en: "Jesus raises Lazarus",
                year: 33, month: 3, day: 1, ref: "John 11:1-44", rank: 2,
                tags: ["Jesus", "Miracle", "Bethany"],
                hint_ja: "ヨハ11章は一つのまとまった出来事で、位置が崩れにくい\n直後の敵意高まり（11:53）と合わせると受難週へ接続しやすい",
                hint_en: "John 11 is a self-contained episode, hard to misplace\nLink with John 11:53 to connect toward the final-week escalation"
            },

            {
                id: 77400, ja: "マリアがイエスに香油を注ぐ（ベタニヤ）", en: "Mary anoints Jesus (Bethany)",
                year: 33, month: 3, day: 27, ref: "John 12:3", rank: 4,
                tags: ["Jesus", "Bethany", "Anointing"],
                hint_ja: "ヨハ12:1-3は「過越の6日前」を手掛かりに順序が固定される\n入城（マタ21章）直前の位置として覚えると崩れない",
                hint_en: "John 12:1-3 gives 'six days before Passover' as a placement cue\nKeep it just before the entry into Jerusalem (Matt 21)"
            },

            {
                id: 78000, ja: "イエスがエルサレムに入城する", en: "Jesus enters Jerusalem",
                year: 33, month: 3, day: 28, ref: "Matt 21:1-11", rank: 2,
                tags: ["Jesus", "Jerusalem", "PassionWeek", "MajorAnchor"],
                hint_ja: "受難週の入口として固定できる出来事\n直後の神殿行動（21:12-17）と連結すると流れが掴める",
                hint_en: "Anchor for the start of the final week\nLink it to the temple action (Matt 21:12-17) to keep the flow"
            },

            {
                id: 79000, ja: "イエスが神殿を清める（受難週）", en: "Jesus cleanses the temple (final week)",
                year: 33, month: 3, day: 29, ref: "Matt 21:12-17", rank: 3,
                tags: ["Jesus", "Temple", "Conflict"],
                hint_ja: "入城（21:1-11）→清め（21:12-17）の順で本文が続くため配置が固い\n同じ“清め”でもヨハ2章（初期）と区別して覚えると混乱しない",
                hint_en: "Matt 21 flows entry→cleansing, fixing order\nDistinguish from the earlier John 2 temple scene to avoid confusion"
            },

            {
                id: 79200, ja: "イエスが終わりの日のしるしを予告する（オリーブ山）", en: "Jesus gives the sign prophecy (Mount of Olives)",
                year: 33, month: 3, day: 30, ref: "Matt 24:3", rank: 1,
                tags: ["Jesus", "Prophecy", "OlivetDiscourse", "MajorAnchor"],
                hint_ja: "受難週後半の強アンカー（逮捕前の教え）\nマタ24章＋ルカ21章を照合して要点と位置を固定",
                hint_en: "Strong late-final-week anchor (teaching before the arrest)\nFix its placement by aligning Matt 24 with Luke 21"
            },

            {
                id: 79500, ja: "イエスが弟子の足を洗う", en: "Jesus washes the disciples’ feet",
                year: 33, month: 4, day: 1, ref: "John 13:5", rank: 3,
                tags: ["Jesus", "Humility", "LastSupper"],
                hint_ja: "ヨハ13章は最後の夜の出来事として一続きで追える\n記念式（ルカ22:19-20）と並べると“最後の夜”の輪郭が固まる",
                hint_en: "John 13 forms part of the continuous last-night narrative\nPair with Luke 22:19-20 to frame the final evening"
            },

            {
                id: 80000, ja: "最後の晩餐", en: "Last Supper",
                year: 33, month: 4, day: 1, ref: "Luke 22:14-20", rank: 1,
                tags: ["Jesus", "Memorial", "NewCovenant", "MajorAnchor"],
                hint_ja: "最後の夜の中心アンカー（直後に逮捕へ）\nルカ22章＋マタ26章で手順と意味を揃えて固定",
                hint_en: "Central anchor of the final night (leads straight into the arrest)\nFix sequence and meaning by aligning Luke 22 with Matt 26"
            },

            {
                id: 80500, ja: "イエスが新しいおきてを教える", en: "Jesus gives the new commandment",
                year: 33, month: 4, day: 1, ref: "John 13:34", rank: 2,
                tags: ["Jesus", "Love", "Commandment"],
                hint_ja: "ヨハ13章の文脈で“最後の夜の教え”として位置が固定できる\n以後の会衆の特徴（互いの愛）へ接続するテーマアンカー",
                hint_en: "Fixed in John 13 as part of the last-night instruction\nTheme anchor that connects into congregation identity (love)"
            },

            {
                id: 81000, ja: "イエスがゲッセマネで祈り逮捕される", en: "Jesus prays in Gethsemane and is arrested",
                year: 33, month: 4, day: 1, ref: "Matt 26:36-56", rank: 2,
                tags: ["Jesus", "Gethsemane", "Arrest", "MajorAnchor"],
                hint_ja: "マタ26章は祈り→裏切り→逮捕が一続きで順序が揺れない\n最後の晩餐（ルカ22章）直後として結ぶと配置が安定する",
                hint_en: "Matt 26 locks prayer→betrayal→arrest as one chain\nStable when placed right after the Last Supper narrative"
            },

            {
                id: 81500, ja: "ペテロがイエスを三度否定する", en: "Peter denies Jesus three times",
                year: 33, month: 4, day: 1, ref: "Matt 26:75", rank: 4,
                tags: ["Peter", "Jesus", "TrialNight"],
                hint_ja: "マタ26章後半の流れ（逮捕→尋問→否定）で位置が固い\n夜の進行の中で“鶏が鳴く”が時系列手掛かりになる",
                hint_en: "Fixed within Matt 26 flow after arrest and during interrogations\nThe rooster-crow detail serves as a timeline cue"
            },

            {
                id: 82000, ja: "イエスが裁判にかけられる", en: "Jesus is put on trial",
                year: 33, month: 4, day: 1, ref: "John 18:28", rank: 3,
                tags: ["Jesus", "Trial", "Pilate"],
                hint_ja: "ヨハ18:28以降の進行で裁判段階が追いやすい\n夜の出来事（逮捕）から朝の裁判へ移る節目として置ける",
                hint_en: "John 18:28 onward traces the trial stages clearly\nActs as the hinge from night arrest to morning proceedings"
            },

            {
                id: 82500, ja: "バラバが釈放される", en: "Barabbas is released",
                year: 33, month: 4, day: 1, ref: "Matt 27:21", rank: 5,
                tags: ["Jesus", "Barabbas", "Judgment"],
                hint_ja: "マタ27章の選択場面は裁判の流れの中で順序が固定できる\n「群衆の選択→判決」へ進む節目として覚える",
                hint_en: "Matt 27 fixes this choice within the trial progression\nRemember it as the pivot from crowd choice to sentencing"
            },

            {
                id: 83000, ja: "イエスが亡くなる", en: "Death of Jesus",
                year: 33, month: 4, day: 1, ref: "John 19:30", rank: 1,
                tags: ["Jesus", "Death", "Ransom", "MajorAnchor"],
                hint_ja: "贖いの中心アンカー（復活・昇天へ接続する核）\n福音書並行記事で受難週終盤の順序を固める",
                hint_en: "Central ransom anchor that links into resurrection and ascension\nUse Gospel parallels to lock the late-week sequence"
            },

            {
                id: 83500, ja: "イエスが埋葬される", en: "Jesus is buried",
                year: 33, month: 4, day: 1, ref: "John 19:41-42", rank: 3,
                tags: ["Jesus", "Burial", "Tomb"],
                hint_ja: "ヨハ19章の死→埋葬の流れで順序が揺れない\n復活記事（マタ28章）へ橋渡しする直前段として置ける",
                hint_en: "John 19 fixes death→burial as a continuous flow\nDirect bridge into the resurrection accounts (Matt 28)"
            },

            {
                id: 84000, ja: "イエスが復活する", en: "Resurrection of Jesus",
                year: 33, month: 4, day: 3, ref: "Matt 28:1-10", rank: 1,
                tags: ["Jesus", "Resurrection", "MajorAnchor"],
                hint_ja: "復活後40日（使1:3）へつながる起点アンカー\nマタ28＋ルカ24の照合で“現れの流れ”を整理",
                hint_en: "Starting anchor that connects to the 40 days after resurrection (Acts 1:3)\nOrganize the appearance flow by aligning Matt 28 with Luke 24"
            },

            {
                id: 84200, ja: "復活したイエスがエマオ途上で現れる", en: "Risen Jesus appears on the road to Emmaus",
                year: 33, month: 4, day: 3, ref: "Luke 24:13-31", rank: 4,
                tags: ["Jesus", "Resurrection", "Emmaus"],
                hint_ja: "ルカ24章内で同日の出来事として連結され、順序が固い\n“聖書を解き明かす”場面として復活後期の特徴を示す",
                hint_en: "Locked within Luke 24 as a same-day sequence\nHighlights the post-resurrection teaching pattern"
            },

            {
                id: 84500, ja: "復活したイエスがペテロに『羊を養いなさい』と言う", en: "Risen Jesus tells Peter: 'Feed my sheep'",
                year: 33, month: 5, day: 1, ref: "John 21:17", rank: 3,
                tags: ["Jesus", "Peter", "Restoration"],
                hint_ja: "ヨハ21章は復活後の現れとして独立したまとまりで、位置が崩れにくい\nペテロ回復の場面として、使徒行伝での働きへ接続する",
                hint_en: "John 21 is a self-contained post-resurrection appearance, hard to misplace\nRestores Peter and links into Acts-era leadership"
            },

            {
                id: 85000, ja: "イエスが昇天する", en: "Ascension of Jesus",
                year: 33, month: 5, day: 13, ref: "Acts 1:3,9", rank: 2,
                tags: ["Jesus", "Ascension", "MajorAnchor"],
                hint_ja: "使徒1:3（40日間）と1:9（昇天）を合わせると日数で固定できる強アンカー\n次の“ペンテコステ（会衆誕生）”へ直結する区切りになる",
                hint_en: "Acts 1:3 (40 days) plus 1:9 (ascension) gives a firm day-count anchor\nClear divider that leads straight into Pentecost and congregation birth"
            },

            /* --- 9. クリスチャン会衆の誕生〜マタイ福音書完成 (33 〜 41) --- */

            {
                id: 85500, ja: "マッテアが使徒に選ばれる", en: "Matthias chosen as apostle",
                year: 33, month: 5, day: 1, ref: "Acts 1:26", rank: 5,
                tags: ["Apostles", "Jerusalem", "Leadership"],
                hint_ja: "使徒1章は昇天→待機→補充の順で読め、ペンテコステ前の配置が固い\n「十二」の枠を整えた直後に2章へ進む流れが自然",
                hint_en: "Acts 1 flows ascension→waiting→replacement, fixing it before Pentecost\nRestores the Twelve before moving into Acts 2"
            },

            {
                id: 86000, ja: "ペンテコステ（聖霊が注がれる）", en: "Pentecost",
                year: 33, month: 5, day: 23, ref: "Acts 2:1-4", rank: 1,
                tags: ["Pentecost", "HolySpirit", "Congregation", "MajorAnchor"],
                hint_ja: "会衆誕生の絶対アンカー（以後の迫害・拡大の基準）\n使2:1-4で“その日”として順序が揺れない",
                hint_en: "Absolute anchor for the birth of the congregation (baseline for later growth/persecution)\nActs 2:1–4 fixes it as a same-day sequence"
            },

            {
                id: 86200, ja: "ペテロとヨハネが逮捕される", en: "Peter and John arrested",
                year: 33, month: 6, day: 1, ref: "Acts 4:3", rank: 4,
                tags: ["Persecution", "Peter", "John", "Jerusalem"],
                hint_ja: "使徒3章（癒やし）→4:1-3（逮捕）の流れで順序が確定する\nペンテコステ直後の初期迫害として位置付けやすい",
                hint_en: "Acts 3 healing→Acts 4:1-3 arrest fixes the order\nPlace as early persecution soon after Pentecost"
            },

            {
                id: 86500, ja: "アナニアとサッピラが裁きを受ける", en: "Ananias and Sapphira judged",
                year: 33, month: 12, day: 1, ref: "Acts 5:5-10", rank: 5,
                tags: ["Congregation", "Discipline", "HolySpirit"],
                hint_ja: "使徒5章の内部出来事としてまとまりがあり、会衆形成期の順序が崩れにくい\n4章（共有）と5章（偽り）を対比すると主題が立つ",
                hint_en: "Acts 5 is a self-contained internal episode in the formation period\nContrast Acts 4 sharing with Acts 5 deception for the theme"
            },

            {
                id: 87000, ja: "ステファノが殉教する", en: "Martyrdom of Stephen",
                year: 34, month: 1, day: 1, ref: "Acts 7:54-60", rank: 2,
                tags: ["Persecution", "Stephen", "MajorAnchor"],
                hint_ja: "使徒6章（任命）→7章（弁明）→7:54-60（殉教）で流れが固定できる\nここを境に散らされる動き（8:1）へつながる",
                hint_en: "Acts 6 appointment→Acts 7 defense→7:54-60 martyrdom fixes the chain\nIt pivots into the scattering (Acts 8:1)"
            },

            {
                id: 87500, ja: "フィリポがエチオピアの宦官に伝える", en: "Philip and Ethiopian eunuch",
                year: 34, month: 1, day: 2, ref: "Acts 8:35-36", rank: 3,
                tags: ["Philip", "Ethiopia", "Baptism"],
                hint_ja: "使徒8章は迫害後の拡散の中での出来事として連結され、順序が掴みやすい\nイザヤ書の解き明かし（8:35）→バプテスマ（8:36）の流れが明確",
                hint_en: "Acts 8 links this episode to post-scattering expansion with clear order\nScripture explanation→baptism sequence is explicit"
            },

            {
                id: 88000, ja: "サウロ（のちのパウロ）が改宗する", en: "Conversion of Saul",
                year: 34, month: 6, day: 1, ref: "Acts 9:1-19", rank: 1,
                tags: ["Paul", "Conversion", "MajorAnchor"],
                hint_ja: "使徒時代の大転換点（異邦人拡大の準備にも）\n使9:1-19が連続記事なので順序固定が強い",
                hint_en: "Major turning point in Acts (also prepares for the Gentile expansion)\nActs 9:1–19 is continuous, giving a strong fixed order"
            },

            {
                id: 90000, ja: "コルネリオが改宗する（異邦人への拡大）", en: "Conversion of Cornelius",
                year: 36, month: 1, day: 1, ref: "Acts 10:44-48", rank: 1,
                tags: ["Gentiles", "Cornelius", "HolySpirit", "MajorAnchor"],
                hint_ja: "異邦人拡大の決定的アンカー（転換点）\n使10章＋11:1-18（弁明）照合で転換が定着する",
                hint_en: "Decisive anchor for the turn to the Gentiles\nConfirm it as a turning point by aligning Acts 10 with Acts 11:1–18"
            },

            {
                id: 89000, ja: "パウロがエルサレムを初訪問する（改宗後）", en: "Paul's first visit to Jerusalem (after conversion)",
                year: 37, month: 1, day: 1, ref: "Acts 9:26", rank: 4,
                tags: ["Paul", "Jerusalem", "Apostles"],
                hint_ja: "使徒9:26-30は訪問→受け入れ→派遣までが連結し、順序が追いやすい\nガラ1:18（3年後）と並べると年代感覚が掴める",
                hint_en: "Acts 9:26-30 links visit→acceptance→sending in one flow\nRead with Gal 1:18 to grasp the time sense"
            },

            {
                id: 92000, ja: "マタイによる福音書が完成する", en: "Gospel of Matthew finished",
                year: 41, month: 1, day: 1, ref: "Matt 28:19-20", rank: 2,
                tags: ["Matthew", "Gospels", "Scripture"],
                hint_ja: "マタ28:19-20は書の主目的（弟子を作る）を締めとして確認できる\n使徒行伝の拡大記事と並べると“書かれた教え”が各地へ広がる流れが見える",
                hint_en: "Matt 28:19-20 summarizes the book’s aim as a closing anchor\nRead alongside Acts expansion to see teaching spread in written form"
            },

            /* --- 10. パウロの宣教旅行（第1回〜第3回終了） (47 〜 58) --- */

            {
                id: 93000, ja: "パウロの第1回宣教旅行が始まる", en: "Paul begins first missionary journey",
                year: 47, month: 1, day: 1, ref: "Acts 13:1-3", rank: 2,
                tags: ["Paul", "MissionaryJourney", "Antioch"],
                hint_ja: "使徒13:1-3の任命記事と14章の帰還を一続きで読むと旅行枠が見える\nここを起点に後の旅行を番号順に配置できる",
                hint_en: "Read Acts 13 commissioning with ch.14 return to frame the journey\nUse it as baseline for numbering later journeys"
            },

            {
                id: 93500, ja: "パウロがルステラで石打ちに遭う", en: "Paul is stoned at Lystra",
                year: 48, month: 1, day: 1, ref: "Acts 14:19", rank: 4,
                tags: ["Paul", "Persecution", "Lystra"],
                hint_ja: "使徒14章前後を通読すると第1回旅行終盤の位置が固定できる\n帰還報告（14:26-28）の直前として配置しやすい",
                hint_en: "Acts 14 context fixes it near journey’s end\nPlace just before return report (14:26-28)"
            },

            {
                id: 94000, ja: "エルサレム会議（割礼問題）", en: "Council of Jerusalem",
                year: 49, month: 1, day: 1, ref: "Acts 15:6", rank: 1,
                tags: ["Council", "Jerusalem", "MajorAnchor"],
                hint_ja: "旅行1→2の大区切り（教義整理の強アンカー）\n使15章＋ガラ2章照合で輪郭が固まる",
                hint_en: "Major divider between journeys 1 and 2 (doctrinal clarification anchor)\nFix the outline by aligning Acts 15 with Galatians 2"
            },

            {
                id: 94500, ja: "パウロとバルナバが別行動になる", en: "Paul and Barnabas separate",
                year: 49, month: 8, day: 1, ref: "Acts 15:39", rank: 5,
                tags: ["Paul", "Barnabas", "Transition"],
                hint_ja: "使徒15:36-41を読むと第2回旅行の準備として連結される\nシラス同行開始の直前イベントとして位置付く",
                hint_en: "Acts 15:36-41 links directly to start of journey two\nPrecedes Silas partnership"
            },

            {
                id: 95000, ja: "パウロの第2回宣教旅行が始まる", en: "Paul begins second missionary journey",
                year: 49, month: 9, day: 1, ref: "Acts 15:40", rank: 2,
                tags: ["Paul", "MissionaryJourney"],
                hint_ja: "15:40出発と18:22帰還を対で読むと旅行範囲が見える\n第1回との比較で地域拡大が把握できる",
                hint_en: "Pair departure 15:40 with return 18:22\nCompare regions with journey one"
            },

            {
                id: 95200, ja: "テモテが同行者に加わる", en: "Timothy joins Paul",
                year: 50, month: 1, day: 1, ref: "Acts 16:1-3", rank: 3,
                tags: ["Paul", "Timothy"],
                hint_ja: "使徒16章初頭の記事として順序が固定しやすい\n以後書簡宛名に登場する人物の起点となる",
                hint_en: "Acts 16 opening fixes placement\nMarks Timothy’s later epistle role"
            },

            {
                id: 95500, ja: "パウロがマケドニアへ渡る", en: "Paul crosses to Macedonia",
                year: 50, month: 1, day: 1, ref: "Acts 16:9-10", rank: 3,
                tags: ["Paul", "Macedonia", "Expansion"],
                hint_ja: "16:6-10を読むと幻→渡航の因果が明確\n福音が欧州側へ広がる転換点として覚えやすい",
                hint_en: "Acts 16:6-10 shows vision→travel cause chain\nMarks expansion into Europe"
            },

            {
                id: 95600, ja: "フィリピで投獄と解放が起きる", en: "Imprisonment at Philippi",
                year: 50, month: 1, day: 2, ref: "Acts 16:25-26", rank: 4,
                tags: ["Paul", "Philippi", "Miracle"],
                hint_ja: "16章文脈内で連続し順序が揺れない出来事\n看守改宗とセットで旅行進行を追える",
                hint_en: "Continuous narrative fixes order\nLinked with jailer conversion"
            },

            {
                id: 95800, ja: "アテネでアレオパゴス演説を行う", en: "Paul speaks at Areopagus",
                year: 50, month: 1, day: 3, ref: "Acts 17:22", rank: 3,
                tags: ["Paul", "Athens", "Philosophy"],
                hint_ja: "テサロニケ→ベレア→アテネの移動順で配置が安定\n異文化宣教の代表例として覚えやすい",
                hint_en: "Placed via Thessalonica→Berea→Athens route\nClassic cross-culture preaching marker"
            },

            {
                id: 96000, ja: "テサロニケ人への手紙が書かれる", en: "Thessalonian letters written",
                year: 50, month: 1, day: 1, ref: "1Thess 1:1", rank: 3,
                tags: ["Paul", "Epistles"],
                hint_ja: "使徒18章コリント滞在と照合すると執筆時期が整理できる\n宣教旅行記事と書簡を結び付ける鍵",
                hint_en: "Cross-check with Corinth stay Acts 18\nLinks narrative journeys with epistles"
            },

            {
                id: 96200, ja: "ガラテア書が書かれる", en: "Galatians written",
                year: 52, month: 1, day: 1, ref: "Gal 1:1", rank: 3,
                tags: ["Paul", "Epistles"],
                hint_ja: "割礼論争（使徒15章）との関連を意識すると位置が掴める\n教義問題整理の文書として早期に配置しやすい",
                hint_en: "Compare with Acts 15 circumcision issue\nEarly doctrinal clarification letter"
            },

            {
                id: 97000, ja: "パウロの第3回宣教旅行が始まる", en: "Paul begins third missionary journey",
                year: 52, month: 1, day: 1, ref: "Acts 18:23", rank: 2,
                tags: ["Paul", "MissionaryJourney"],
                hint_ja: "18:23出発と21章帰還を対で読むと範囲が明確\nエフェソス滞在が中心になる旅行",
                hint_en: "Pair 18:23 departure with ch21 return\nEphesus stay becomes central feature"
            },

            {
                id: 97200, ja: "エフェソスで騒動が起きる", en: "Riot in Ephesus",
                year: 55, month: 1, day: 1, ref: "Acts 19:23-24", rank: 4,
                tags: ["Paul", "Ephesus", "Opposition"],
                hint_ja: "使徒19章の連続記事で順序固定\n長期滞在終盤の出来事として整理できる",
                hint_en: "Continuous Acts 19 narrative fixes sequence\nPlace near end of Ephesus stay"
            },

            {
                id: 97500, ja: "コリント第一書が書かれる", en: "1 Corinthians written",
                year: 55, month: 1, day: 1, ref: "1Cor 1:1", rank: 3,
                tags: ["Paul", "Epistles"],
                hint_ja: "エフェソス滞在（使徒19章）と照合すると執筆位置が安定\n書簡と宣教記事の同期例として重要",
                hint_en: "Aligned with Acts 19 Ephesus stay\nKey sync of narrative and epistle timeline"
            },

            {
                id: 97800, ja: "コリント第二書が書かれる", en: "2 Corinthians written",
                year: 55, month: 1, day: 2, ref: "2Cor 1:1", rank: 3,
                tags: ["Paul", "Epistles"],
                hint_ja: "マケドニア移動記事（使徒20章）と比較すると配置できる\n第一書後の関係修復文脈として覚える",
                hint_en: "Compare with Acts 20 Macedonia movement\nPlaced after reconciliation context"
            },

            {
                id: 98000, ja: "ローマ書が書かれる", en: "Romans written",
                year: 56, month: 1, day: 1, ref: "Rom 1:1", rank: 2,
                tags: ["Paul", "Epistles"],
                hint_ja: "コリント滞在期と使徒20章を照合すると位置付け可能\n宣教神学総括として第3回終盤に置ける",
                hint_en: "Aligned with Acts 20 Corinth period\nPlaced near end of third journey"
            },

            {
                id: 98500, ja: "ミレトスでエフェソス長老に別れを告げる", en: "Farewell to Ephesian elders",
                year: 58, month: 1, day: 1, ref: "Acts 20:17", rank: 3,
                tags: ["Paul", "Elders", "MajorTransition"],
                hint_ja: "使徒20:17-38の演説が旅行終結の区切りとなる\nここを第3回旅行の終端アンカーにできる",
                hint_en: "Acts 20:17-38 speech marks journey closure\nServes as terminal anchor for third journey"
            },

            /* --- 11. パウロの逮捕から死まで (58 〜 65) --- */

            {
                id: 99000, ja: "パウロがエルサレムで逮捕される", en: "Paul arrested in Jerusalem",
                year: 58, month: 5, day: 1, ref: "Acts 21:33", rank: 2,
                tags: ["Paul", "Arrest", "Jerusalem"],
                hint_ja: "使徒21章の騒動→拘束の流れを読むと位置が固定される\n第3回宣教旅行直後の転換点として年表を切り替える基準",
                hint_en: "Acts 21 riot→arrest fixes sequence\nMarks transition after third journey"
            },

            {
                id: 99200, ja: "ルカによる福音書が完成する", en: "Gospel of Luke finished",
                year: 58, month: 1, day: 1, ref: "Luke 1:3", rank: 2,
                tags: ["Luke", "Gospels", "Scripture"],
                hint_ja: "ルカ1:1-4と使徒1:1を照合すると執筆連続性が見える\nカエサレア拘留期周辺に配置しやすい文書イベント",
                hint_en: "Compare Luke 1:1-4 with Acts 1:1 for literary link\nFits near Caesarea custody timeframe"
            },

            {
                id: 99500, ja: "パウロがフェリクスの前で弁明する", en: "Paul defends before Felix",
                year: 58, month: 1, day: 1, ref: "Acts 24:24-25", rank: 4,
                tags: ["Paul", "Trial", "Caesarea"],
                hint_ja: "使徒24章と25:14を照合すると拘留期間の長さが掴める\nローマ移送前の停滞期として配置が安定",
                hint_en: "Compare Acts 24 with 25:14 to sense detention span\nPlaced before transfer toward Rome"
            },

            {
                id: 99800, ja: "パウロがカエサルへ上訴する", en: "Paul appeals to Caesar",
                year: 59, month: 1, day: 1, ref: "Acts 25:11", rank: 3,
                tags: ["Paul", "Appeal", "Rome"],
                hint_ja: "使徒25章の裁判記事連続で順序固定\nローマ行き決定の分岐点として覚えやすい",
                hint_en: "Acts 25 trial narrative fixes sequence\nDecision pivot toward Rome"
            },

            {
                id: 100000, ja: "パウロがローマで最初の投獄に入る", en: "Paul's first Roman imprisonment",
                year: 59, month: 1, day: 1, ref: "Acts 28:16", rank: 2,
                tags: ["Paul", "Rome", "Imprisonment"],
                hint_ja: "使徒28:16と28:30を対比すると滞在期間が見える\n書簡執筆期の起点アンカーとして利用できる",
                hint_en: "Compare Acts 28:16 with 28:30 for duration\nAnchor for prison epistles period"
            },

            {
                id: 103000, ja: "マルコによる福音書が完成する", en: "Gospel of Mark finished",
                year: 60, month: 1, day: 1, ref: "Mark 1:1", rank: 2,
                tags: ["Mark", "Gospels", "Scripture"],
                hint_ja: "ペテロ伝承との関係を1ペテ5:13と照合すると配置感が出る\nローマ期文書群の中で相対配置可能",
                hint_en: "Compare with 1Pet 5:13 tradition link\nPlaced among Rome-period writings"
            },

            {
                id: 100200, ja: "エフェソス・コロサイ・フィレモン書が書かれる", en: "Prison letters written",
                year: 60, month: 1, day: 1, ref: "Eph 1:1", rank: 3,
                tags: ["Paul", "Epistles", "Prison"],
                hint_ja: "使徒28章拘留状況と書簡冒頭を照合すると同期が見える\n投獄期文書としてまとまりで配置できる",
                hint_en: "Compare Acts 28 custody context with epistle openings\nGrouped as imprisonment writings"
            },

            {
                id: 101000, ja: "フィリピ書が書かれる", en: "Philippians written",
                year: 61, month: 1, day: 1, ref: "Phil 1:13", rank: 3,
                tags: ["Paul", "Epistles"],
                hint_ja: "フィリ1:13と使徒28章を対比すると監禁状況が一致する\n同投獄期文書群内で位置付け可能",
                hint_en: "Phil 1:13 matches Acts 28 custody setting\nPlaced within same imprisonment corpus"
            },

            {
                id: 101500, ja: "ヘブライ書が書かれる", en: "Hebrews written",
                year: 61, month: 1, day: 1, ref: "Heb 13:23", rank: 2,
                tags: ["Epistles", "Doctrine"],
                hint_ja: "ヘブ13:23の人物言及を使徒記録と照合して配置を推測\nユダヤ背景解説文書として後期にまとめられる",
                hint_en: "Use Heb 13:23 references with Acts timeline\nPlaced among later doctrinal letters"
            },

            {
                id: 102000, ja: "使徒行伝が完成する", en: "Acts completed",
                year: 61, month: 1, day: 1, ref: "Acts 28:31", rank: 2,
                tags: ["Luke", "Acts", "Scripture"],
                hint_ja: "終章内容とルカ1:1-4を照合すると著作対構造が見える\nローマ宣教到達点で締める構成が年代目安になる",
                hint_en: "Compare closing scene with Luke prologue structure\nEnds at Rome preaching anchor"
            },

            {
                id: 104000, ja: "ヤコブ書が書かれる", en: "James written",
                year: 62, month: 1, day: 1, ref: "Jas 1:1", rank: 3,
                tags: ["James", "Epistles"],
                hint_ja: "ヤコブの活動記事（使徒15章）と関連付けると人物配置可能\n会衆指導文書として独立配置しやすい",
                hint_en: "Link with Acts 15 leadership role\nPlaced as independent congregational guidance text"
            },

            {
                id: 104200, ja: "テモテ第一・テトス書が書かれる", en: "1 Timothy and Titus written",
                year: 64, month: 1, day: 1, ref: "1Tim 3:1", rank: 3,
                tags: ["Paul", "PastoralEpistles"],
                hint_ja: "使徒記録外期間の活動を前提に配置される書簡\n教会管理指示として後期に整理できる",
                hint_en: "Placed in post-Acts ministry phase\nOrganizational instruction letters"
            },

            {
                id: 104500, ja: "ペテロ第一・第二書が書かれる", en: "1 & 2 Peter written",
                year: 64, month: 1, day: 1, ref: "1Pet 5:13", rank: 3,
                tags: ["Peter", "Epistles"],
                hint_ja: "“バビロン”表現を歴史状況と照合して配置推定\n迫害前後文書群の中に収められる",
                hint_en: "Use 'Babylon' reference for contextual placement\nGrouped near persecution-era writings"
            },

            {
                id: 104700, ja: "ローマ大火と迫害が始まる", en: "Great Fire and persecution",
                year: 64, month: 7, day: 1, ref: "-", rank: 4,
                tags: ["Rome", "Persecution"],
                hint_ja: "タキトゥス史料と新約後期文脈を比較して位置付け\n殉教期環境の歴史アンカーとして使用",
                hint_en: "Positioned via Tacitus historical record\nEnvironmental anchor for martyrdom era"
            },

            {
                id: 104800, ja: "テモテ第二書が書かれる", en: "2 Timothy written",
                year: 65, month: 1, day: 1, ref: "2Tim 4:6-7", rank: 3,
                tags: ["Paul", "FinalLetter"],
                hint_ja: "4:6-7の表現が最終期状況を明確に示す\n殉教直前書簡として順序が固定しやすい",
                hint_en: "2Tim 4:6-7 signals terminal stage\nPlaced immediately before martyrdom"
            },

            {
                id: 105000, ja: "パウロが再投獄後に処刑される", en: "Paul executed after second imprisonment",
                year: 65, month: 1, day: 1, ref: "2Tim 4:6", rank: 2,
                tags: ["Paul", "Death", "MajorAnchor"],
                hint_ja: "第二テモテ書終章と歴史記録を照合して終点固定\n宣教時代区切りの終端アンカーになる",
                hint_en: "Use 2Tim closing with historical tradition\nTerminal anchor of Pauline era"
            },

            /* --- 12. 使徒時代後期から聖書完成まで (65 〜 98) --- */

            {
                id: 106000, ja: "ユダの手紙が書かれる", en: "Letter of Jude written",
                year: 65, month: 1, day: 1, ref: "Jude 3", rank: 3,
                tags: ["Jude", "Epistles", "Warning"],
                hint_ja: "ペテロ第二書との語彙対応を照合すると背景が整理できる\n使徒後期の異端警告文書として年代後半に配置しやすい",
                hint_en: "Compare wording with 2 Peter parallels\nPlaced among late apostolic warnings"
            },

            {
                id: 107000, ja: "エルサレムがローマにより滅ぼされる", en: "Jerusalem destroyed by Rome",
                year: 70, month: 8, day: 1, ref: "Luke 21:20", rank: 1,
                tags: ["Jerusalem", "Rome", "MajorAnchor"],
                hint_ja: "使徒時代後半の最大級アンカー（時代が変わる）\nルカ21:20の予告と史実を対照して固定する",
                hint_en: "One of the biggest anchors of the late apostolic era (a major shift)\nFix it by comparing Luke 21:20 with its historical fulfillment"
            },

            {
                id: 108000, ja: "使徒ヨハネがパトモスへ流刑される", en: "John exiled to Patmos",
                year: 96, month: 1, day: 1, ref: "Rev 1:9", rank: 3,
                tags: ["John", "Exile", "Patmos"],
                hint_ja: "黙示録1章序文と皇帝統治年代を照合すると配置可能\n啓示受領直前の導入出来事として固定しやすい",
                hint_en: "Compare Rev 1 introduction with imperial chronology\nPrelude to Revelation visions"
            },

            {
                id: 109000, ja: "啓示（黙示録）が完成する", en: "Revelation completed",
                year: 96, month: 1, day: 1, ref: "Rev 22:21", rank: 2,
                tags: ["Revelation", "Scripture"],
                hint_ja: "1:1序文と終章を対比すると書全体の枠が見える\nヨハネ文書群終盤の基準点として配置できる",
                hint_en: "Compare Rev opening with closing verse\nAnchor for final Johannine writings"
            },

            {
                id: 110000, ja: "ヨハネ福音書と手紙が完成する", en: "John's Gospel and Letters completed",
                year: 98, month: 1, day: 1, ref: "John 21:24-25", rank: 2,
                tags: ["John", "Gospels", "Epistles"],
                hint_ja: "ヨハ21:24-25と1ヨハ序文を照合すると著作連続性が見える\n使徒最晩期文書として年代終端に配置できる",
                hint_en: "Compare John closing verses with 1 John prologue\nPlaced at terminal apostolic writing stage"
            },

            {
                id: 111000, ja: "聖書記述が完成する", en: "Completion of Biblical writings",
                year: 98, month: 1, day: 1, ref: "Rev 22:18-19", rank: 1,
                tags: ["Scripture", "Completion", "MajorAnchor"],
                hint_ja: "使徒時代の終端アンカー（記述期が閉じる）\n黙示録末尾の警告を“終端”として読む",
                hint_en: "Terminal anchor for the close of the apostolic writing era\nRead the warning at the end of Revelation as the end-marker"
            }
        ];

        function formatRef(ref) {
            if (currentLang === 'en') return ref;
            let parts = ref.split(' ');
            let bookEn = parts[0];
            let verse = parts[1] || "";
            return verse
                ? (refMap[bookEn] || bookEn) + " " + verse
                : (refMap[bookEn] || bookEn);
        }

        /* ==========================================================
        言語の自動判定（初回アクセス時）
        - 以前ユーザーが手動で選んだ言語があれば、それを優先する
        - それが無ければ、ブラウザの言語設定を見て判定する
        - ja（日本語）なら 'ja'
        - それ以外は全部 'en'
        ========================================================== */
        function detectLanguage() {
            const savedLang =
                localStorage.getItem('arq_lang') ||
                localStorage.getItem('lang') ||
                localStorage.getItem('language') ||
                localStorage.getItem('btlq_lang');

            if (savedLang) { currentLang = savedLang; return; }

            const browserLang = navigator.language || navigator.userLanguage || '';
            currentLang = browserLang.toLowerCase().startsWith('ja') ? 'ja' : 'en';
        }

        function toggleLang() {
            /* JA ⇄ EN を切り替える */
            currentLang = currentLang === 'ja' ? 'en' : 'ja';
            document.documentElement.lang = currentLang;
            /* 次回アクセス時も同じ言語で開くために保存する */
            localStorage.setItem('lang', currentLang);
            /* ボタン表示を更新（今が日本語なら "JA"、英語なら "EN"） */
            document.getElementById('langBtn').innerText =
                currentLang === 'ja' ? 'EN' : 'JA';
            /* data-ja / data-en を持つ要素のテキストをまとめて差し替える */
            document.querySelectorAll('[data-ja]').forEach(el => {
                el.innerText = el.getAttribute('data-' + currentLang);
            });

            /* ゲーム画面のカード表示も今の言語で更新する */
            updateCardTexts();
            /* 年代のセレクトなど、言語依存の表示を再構築する */
            initPickers();
            /* 結果画面（正解/残念/ゲームオーバー）を現在言語で再描画 */
            updateResultTexts();
            /* ヒント表示中なら、ヒント文章を現在言語で再描画 */
            updateHintTexts();
        }

        function updateCardTexts() {
            document.querySelectorAll('.event-card').forEach(card => {
                const data = masterEvents.find(e => e.id == card.dataset.id);
                if (data) card.querySelector('.event-name').innerText = data[currentLang];
            });
        }

        function initPickers() {
            const s = document.getElementById('select-start'), e = document.getElementById('select-end');
            const sOld = s.value, eOld = e.value;
            s.innerHTML = ''; e.innerHTML = '';
            const years = [...new Set(masterEvents.map(ev => ev.year))].sort((a, b) => a - b);
            years.forEach(y => {
                let label = currentLang === 'ja' ? (y < 0 ? `前 ${Math.abs(y)}年` : `西暦 ${y}年`) : (y < 0 ? `BCE ${Math.abs(y)}` : `CE ${y}`);
                s.add(new Option(label, y)); e.add(new Option(label, y));
            });
            if (sOld) s.value = sOld; if (eOld) e.value = eOld;
        }

        function quickSet(sVal, eVal, btn) {
            document.getElementById('select-start').value = sVal;
            document.getElementById('select-end').value = eVal;
            document.querySelectorAll('.q-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('error-msg').innerText = "";
        }

        function startGame() {
            const s = parseInt(document.getElementById('select-start').value);
            const e = parseInt(document.getElementById('select-end').value);
            const count = parseInt(document.getElementById('count-select').value);
            let filtered = masterEvents.filter(ev => ev.year >= s && ev.year <= e);
            if (filtered.length < count) {
                const msg = currentLang === 'ja' ? `イベントが足りません（現在${filtered.length}個）` : `Not enough events (Only ${filtered.length} available)`;
                document.getElementById('error-msg').innerText = msg;
                return;
            }
            document.getElementById('error-msg').innerText = "";
            currentTask = filtered.sort(() => 0.5 - Math.random()).slice(0, count);

            // タイムアタック設定
            const isTimeAttack = document.getElementById('time-attack-select').value === 'on';
            clearInterval(timerInterval);

            if (isTimeAttack) {
                document.getElementById('timer-display').classList.remove('hidden');
                timeLeft = count * 12;
                updateTimerDisplay();
                timerInterval = setInterval(() => {
                    timeLeft--;
                    updateTimerDisplay();
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        alert(currentLang === 'ja' ? "時間切れ！" : "Time's Up!");
                        checkOrder();
                    }
                }, 1000);
            } else {
                document.getElementById('timer-display').classList.add('hidden');
            }

            renderGame(true);
            switchScreen('screen-game');
        }

        function updateTimerDisplay() {
            document.getElementById('time-left').innerText = timeLeft;
        }

        function renderGame(shuffle) {
            const list = document.getElementById('event-list');
            list.innerHTML = '';

            let displayList = [...currentTask];
            if (shuffle) displayList.sort(() => 0.5 - Math.random());

            // ✅ 念のため：前回のPCドラッグが中途半端に残ってたら掃除
            draggingItemPC = null;
            if (pcPlaceholder && pcPlaceholder.parentNode) pcPlaceholder.remove();
            pcPlaceholder = null;

            displayList.forEach(item => {
                const el = document.createElement('div');
                el.className = 'event-card';
                el.dataset.id = item.id;

                el.innerHTML =
                    `<span class="material-icons drag-handle" style="color:#ccc">drag_indicator</span>` +
                    `<div class="event-name" style="flex:1">${item[currentLang]}</div>`;

                /* ===== PCドラッグ ===== */
                el.draggable = true;

                el.addEventListener('dragstart', (e) => {
                    draggingItemPC = el;
                    el.classList.add('dragging');

                    // ✅ placeholder を「置換」ではなく「挿入」する（DOMから外さない）
                    const rect = el.getBoundingClientRect();
                    pcPlaceholder = document.createElement('div');
                    pcPlaceholder.className = 'sortable-placeholder';
                    pcPlaceholder.style.height = rect.height + 'px';

                    // 元カードの直後に入れる（元カードの場所を確保）
                    el.parentNode.insertBefore(pcPlaceholder, el.nextSibling);

                    // ✅ drag開始が成立してから元カードを消す（Chrome向けの定番）
                    setTimeout(() => {
                        if (draggingItemPC === el) el.style.display = 'none';
                    }, 0);

                    if (e.dataTransfer) {
                        e.dataTransfer.effectAllowed = 'move';
                        e.dataTransfer.setData('text/plain', 'x'); // 空だとドラッグ開始しない事がある
                    }
                });

                // ✅ drop が来なくても dragend で必ず復帰させる
                el.addEventListener('dragend', () => {
                    if (!draggingItemPC) return;

                    // display:none を戻す
                    draggingItemPC.style.display = '';
                    draggingItemPC.classList.remove('dragging');

                    // placeholder が残ってたら消す
                    if (pcPlaceholder && pcPlaceholder.parentNode) pcPlaceholder.remove();

                    pcPlaceholder = null;
                    draggingItemPC = null;
                });

                /* ===== スマホ ===== */
                el.ontouchstart = handleTouchStart;
                el.ontouchmove = handleTouchMove;
                el.ontouchend = handleTouchEnd;
                el.ontouchcancel = handleTouchEnd;

                list.appendChild(el);
            });

            /* PC: placeholder の移動（マウス位置に合わせて枠だけ動かす） */
            list.ondragover = (e) => {
                e.preventDefault();
                if (!pcPlaceholder) return;

                const after = getDragAfterElement(list, e.clientY);

                if (after == null) list.appendChild(pcPlaceholder);
                else list.insertBefore(pcPlaceholder, after);
            };

            /* PC: drop で確定（placeholder の位置にカードを戻す） */
            list.ondrop = (e) => {
                e.preventDefault();
                if (!draggingItemPC || !pcPlaceholder) return;

                // placeholder の位置にドラッグ元カードを戻す
                list.insertBefore(draggingItemPC, pcPlaceholder);

                // 復帰
                draggingItemPC.style.display = '';
                draggingItemPC.classList.remove('dragging');

                // 掃除
                pcPlaceholder.remove();
                pcPlaceholder = null;
                draggingItemPC = null;
            };
        }

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.event-card:not(.dragging)')];
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                if (offset < 0 && offset > closest.offset) return { offset: offset, element: child };
                else return closest;
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        let activeItem = null;
        let placeholder = null;

        /* 長押しドラッグ（スクロール優先） */
        let pressTimer = null;
        let isDragging = false;

        let preMoveListener = null;

        let draggingItemPC = null;
        let pcPlaceholder = null;

        function attachPreMoveCancel() {
            if (preMoveListener) return;

            preMoveListener = (ev) => {
                if (!pressTimer || isDragging) return;

                const t = ev.touches[0];
                const dx = t.clientX - startX;
                const dy = t.clientY - startY;
                const dist = Math.hypot(dx, dy);

                // スクロールのつもり → 長押しキャンセル
                if (dist > CANCEL_MOVE_THRESHOLD) {
                    clearTimeout(pressTimer);
                    pressTimer = null;
                    detachPreMoveCancel();
                }
            };

            // ★ここは passive:true でOK（スクロール邪魔しない）
            document.addEventListener('touchmove', preMoveListener, { passive: true });
        }

        function detachPreMoveCancel() {
            if (!preMoveListener) return;
            document.removeEventListener('touchmove', preMoveListener);
            preMoveListener = null;
        }

        /* タッチ開始位置（長押し成立前の移動判定用） */
        let startX = 0;
        let startY = 0;

        /* 好みで調整OK */
        const LONG_PRESS_MS = 200;          // 長押し時間
        const CANCEL_MOVE_THRESHOLD = 10;   // これ以上動いたら長押しキャンセル（px）

        /* 指の位置とカード左上の差分（追従用） */
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        /* 追従を滑らかにするための rAF 制御 */
        let rafId = null;
        let pendingX = 0;
        let pendingY = 0;

        /* ===== 自動スクロール（ドラッグ端） ===== */
        const AUTO_SCROLL_ZONE = 80;   // 画面端から何pxで発動
        const AUTO_SCROLL_MAX = 14;    // 最大速度（px/frame）

        let autoScrollDir = 0;         // -1:上, 0:停止, +1:下
        let autoScrollRaf = null;

        /* 端に近いほど速くする（線形で十分） */
        function calcAutoScrollSpeed(clientY) {
            if (clientY < AUTO_SCROLL_ZONE) {
                const t = (AUTO_SCROLL_ZONE - clientY) / AUTO_SCROLL_ZONE; // 0..1
                return Math.ceil(AUTO_SCROLL_MAX * t);
            }
            if (clientY > window.innerHeight - AUTO_SCROLL_ZONE) {
                const d = clientY - (window.innerHeight - AUTO_SCROLL_ZONE);
                const t = d / AUTO_SCROLL_ZONE; // 0..1
                return Math.ceil(AUTO_SCROLL_MAX * t);
            }
            return 0;
        }

        function setAutoScrollByPointer(clientY) {
            if (clientY < AUTO_SCROLL_ZONE) autoScrollDir = -1;
            else if (clientY > window.innerHeight - AUTO_SCROLL_ZONE) autoScrollDir = 1;
            else autoScrollDir = 0;

            if (autoScrollDir !== 0) startAutoScrollLoop();
            else stopAutoScrollLoop();
        }

        function startAutoScrollLoop() {
            if (autoScrollRaf) return;

            const tick = () => {
                autoScrollRaf = null;

                // ドラッグ中だけ回す
                if (!isDragging) return;

                const speed = calcAutoScrollSpeed(pendingY);

                if (autoScrollDir !== 0 && speed > 0) {
                    window.scrollBy(0, autoScrollDir * speed);

                    // スクロールしたぶんも含めて、ドラッグ中カードを追従更新
                    moveDraggedItem(pendingX, pendingY);

                    // placeholder 判定も「最後の指位置」で更新し続ける
                    updatePlaceholderByPointer(pendingX, pendingY);
                }

                // 端にいる限り回し続ける（止めるのは stopAutoScrollLoop）
                if (autoScrollDir !== 0) {
                    autoScrollRaf = requestAnimationFrame(tick);
                }
            };

            autoScrollRaf = requestAnimationFrame(tick);
        }

        function stopAutoScrollLoop() {
            autoScrollDir = 0;
            if (autoScrollRaf) {
                cancelAnimationFrame(autoScrollRaf);
                autoScrollRaf = null;
            }
        }

        /* placeholder移動ロジックを関数化（handleTouchMove内の後半を移植） */
        function updatePlaceholderByPointer(x, y) {
            if (!placeholder) return;

            // ★保険：自分を一瞬隠して下の要素を正しく拾う
            const prevVis = activeItem?.style.visibility;
            if (activeItem) activeItem.style.visibility = 'hidden';

            const target = document.elementFromPoint(x, y);

            if (activeItem) activeItem.style.visibility = prevVis || '';

            const card = target ? target.closest('.event-card') : null;
            if (!card || card === activeItem || card === placeholder) return;

            const rect = card.getBoundingClientRect();
            if (y < rect.top + rect.height / 2) card.before(placeholder);
            else card.after(placeholder);
        }

        function handleTouchStart(e) {
            // ここではまだドラッグ開始しない（スクロール優先）
            isDragging = false;

            // カードを掴んだ扱いにする
            activeItem = this;
            if (!activeItem) return;

            // 初期タッチ位置（動いたら長押しキャンセルするため）
            const touch = e.touches[0];
            startX = touch.clientX;
            startY = touch.clientY;
            attachPreMoveCancel();

            document.addEventListener(
                'touchend',
                () => {
                    if (!isDragging && pressTimer) {
                        clearTimeout(pressTimer);
                        pressTimer = null;
                    }
                },
                { passive: true, once: true }
            );

            document.addEventListener(
                'touchcancel',
                () => {
                    if (!isDragging && pressTimer) {
                        clearTimeout(pressTimer);
                        pressTimer = null;
                    }
                },
                { passive: true, once: true }
            );

            // 既存タイマーがあればクリア
            if (pressTimer) {
                clearTimeout(pressTimer);
                pressTimer = null;
            }

            // 長押し成立したら「ここで初めてドラッグ開始」
            pressTimer = setTimeout(() => {
                // ★ここに来た時点で、指が離れていたらキャンセルされているはずだが念のため
                if (isDragging) return;
                if (!activeItem) return;

                // ここでドラッグ開始
                isDragging = true;
                // ★ スクロール検知はもう不要
                detachPreMoveCancel();
                activeItem.classList.add('dragging');

                /* ドラッグ中の指の動きを取りこぼさないため */
                document.addEventListener('touchmove', handleTouchMove, { passive: false });
                document.addEventListener('touchend', handleTouchEnd, { passive: false });
                document.addEventListener('touchcancel', handleTouchEnd, { passive: false });

                /* 追従用のオフセット計算（カード左上との差分） */
                const rect = activeItem.getBoundingClientRect();
                dragOffsetX = startX - rect.left;
                dragOffsetY = startY - rect.top;

                /* placeholder を用意（無ければ作る） */
                if (!placeholder) {
                    placeholder = document.createElement('div');
                    placeholder.className = 'sortable-placeholder';
                }
                placeholder.style.height = rect.height + "px";

                // 元の場所を placeholder に置き換える（←これは必要）
                activeItem.replaceWith(placeholder);

                // ★カードはリストに戻さず、body に退避させる
                document.body.appendChild(activeItem);


                /* 見た目：ドラッグ中スタイル */
                activeItem.style.width = rect.width + "px";
                activeItem.style.height = rect.height + "px";
                activeItem.style.position = "fixed";
                activeItem.style.zIndex = "9999";
                activeItem.style.pointerEvents = "none";
                activeItem.style.opacity = "0.9";
                activeItem.style.margin = "0";              // ★ズレ防止
                activeItem.style.boxSizing = "border-box";  // ★念のため
                activeItem.style.left = rect.left + "px";   // ★初期位置固定
                activeItem.style.top = rect.top + "px";

                /* 最初の位置更新（指に追従） */
                moveDraggedItem(startX, startY);

                // タイマーを使い捨てにする
                pressTimer = null;
            }, LONG_PRESS_MS);
        }

        function moveDraggedItem(clientX, clientY) {
            // 指の位置（pending）を更新
            pendingX = clientX;
            pendingY = clientY;

            // すでに rAF が回ってるなら予約だけ更新して終わり
            if (rafId) return;

            rafId = requestAnimationFrame(() => {
                rafId = null;
                if (!activeItem) return;

                const left = pendingX - dragOffsetX;
                const top = pendingY - dragOffsetY;

                activeItem.style.left = left + "px";
                activeItem.style.top = top + "px";
            });
        }

        function handleTouchMove(e) {
            if (!activeItem) return;

            const touch = e.touches[0];
            const x = touch.clientX;
            const y = touch.clientY;

            if (!isDragging) return; // 長押し成立前は何もしない

            e.preventDefault();
            // 追従（pendingX/pendingYが更新される）
            moveDraggedItem(x, y);
            // ★ 自動スクロール判定（端ならスクロール開始）
            setAutoScrollByPointer(y);
            // placeholder 更新（通常）
            updatePlaceholderByPointer(x, y);
        }


        function handleTouchEnd() {
            if (pressTimer) {
                clearTimeout(pressTimer);
                pressTimer = null;
            }

            // ★追加：自動スクロール停止
            stopAutoScrollLoop();

            if (!isDragging) {
                detachPreMoveCancel();
                activeItem = null;
                return;
            }

            isDragging = false;

            if (!activeItem) return;

            if (rafId) {
                cancelAnimationFrame(rafId);
                rafId = null;
            }

            const list = document.getElementById('event-list');

            if (placeholder && list && list.contains(placeholder)) {
                placeholder.replaceWith(activeItem);
                placeholder = null;
            } else if (list && activeItem) {
                list.appendChild(activeItem);
            }

            activeItem.classList.remove('dragging');

            activeItem.style.position = '';
            activeItem.style.left = '';
            activeItem.style.top = '';
            activeItem.style.right = '';
            activeItem.style.bottom = '';
            activeItem.style.width = '';
            activeItem.style.height = '';
            activeItem.style.zIndex = '';
            activeItem.style.pointerEvents = '';
            activeItem.style.margin = '';
            activeItem.style.transform = '';
            activeItem.style.opacity = '1';

            activeItem = null;

            document.removeEventListener('touchmove', handleTouchMove);
            document.removeEventListener('touchend', handleTouchEnd);
            document.removeEventListener('touchcancel', handleTouchEnd);
        }

        // ✅ 共通：正解順ソート（年→月→日→id）
        function sortEventsChrono(a, b) {
            return (a.year - b.year) ||
                ((a.month ?? 1) - (b.month ?? 1)) ||
                ((a.day ?? 1) - (b.day ?? 1)) ||
                (a.id - b.id);
        }

        // ✅ 共通：currentTask から正解ID配列を作る
        function getCorrectIds() {
            if (!Array.isArray(currentTask) || currentTask.length === 0) return [];
            return [...currentTask].sort(sortEventsChrono).map(e => e.id);
        }

        // ✅ 共通：画面上の並び（ID配列）
        function getUserIds() {
            return [...document.querySelectorAll('.event-card')]
                .map(el => parseInt(el.dataset.id, 10))
                .filter(n => Number.isFinite(n));
        }

        // ✅ 共通：配列一致（JSON stringifyより安全）
        function arraysEqual(a, b) {
            if (a.length !== b.length) return false;
            for (let i = 0; i < a.length; i++) if (a[i] !== b[i]) return false;
            return true;
        }

        function checkOrder() {
            clearInterval(timerInterval);

            const userIds = getUserIds();
            const correctIds = getCorrectIds();

            const isWin = (userIds.length > 0) && arraysEqual(userIds, correctIds);

            if (isWin) {
                const fire = (typeof confetti === 'function') ? confetti : (window.confetti || null);
                if (fire) {
                    fire({ particleCount: 150, spread: 70, origin: { x: 0.5, y: 0.5 } });
                }
            }

            showResultScreen(isWin);
        }

        /* ==========================================================
        結果画面の文言を currentLang に合わせて更新する
        - toggleLang() からも呼ばれる
        - 勝敗（lastIsWin）を元に表示を決める
        ========================================================== */
        function updateResultTexts() {
            if (lastIsWin === null) return;
            document.getElementById('result-title').innerText = lastIsWin
                ? (currentLang === 'ja' ? "正解！" : "Correct!")
                : (currentLang === 'ja' ? "残念" : "Oops");
        }

        /* ==========================================================
        ヒント表示の文言を currentLang に合わせて更新する
        - toggleLang() から呼ばれる
        - 直前に表示したヒントの内容（lastHintIds / lastHintWasEmpty）を元に再構築する
        - ヒントが表示中でない場合は何もしない
        ========================================================== */
        function updateHintTexts() {

            /* ヒント領域が存在しないページなら何もしない */
            const hintArea = document.getElementById('hint-area');
            if (!hintArea) return;

            /* ヒントがそもそも表示されていない（hidden）なら何もしない */
            if (hintArea.classList.contains('hidden')) return;

            /* showHint() がまだ一度も呼ばれていないなら何もしない */
            if (lastHintIds === null && lastHintWasEmpty === null) return;

            /* タイトル（見出し） */
            const title = currentLang === 'ja'
                ? "💡 調査の助け:"
                : "💡 Clues for misplaced items:";

            let html = `<strong>${title}</strong><br><br>`;

            /* 「並び順は合っている」ケース */
            if (lastHintWasEmpty) {
                html += currentLang === 'ja'
                    ? "並び順は合っているようです。"
                    : "The order seems correct.";

                hintArea.innerHTML = html;
                return;
            }

            /* 通常ケース：lastHintIds からイベントを引いて再構築 */
            const hints = (lastHintIds || [])
                .map(id => masterEvents.find(e => e.id === id))
                .filter(Boolean);

            /* 念のため：復元できなかったら空扱いにする */
            if (hints.length === 0) {
                html += currentLang === 'ja'
                    ? "並び順は合っているようです。"
                    : "The order seems correct.";

                hintArea.innerHTML = html;
                return;
            }

            hints.forEach(s => {
                const hintDesc = s['hint_' + currentLang] || "";
                html += `<div class="hint-item">
                    ・${s[currentLang]} (${formatRef(s.ref)})
                    <span class="hint-desc">${hintDesc}</span>
                 </div>`;
            });

            hintArea.innerHTML = html;
        }

        function showResultScreen(isWin) {

            /* 直前の勝敗を保存（言語切替時に再描画するため） */
            lastIsWin = isWin;

            switchScreen('screen-result');
            const difficulty = parseInt(
                document.getElementById('count-select').value
            );

            /* アイコンだけはここで決定してOK */
            document.getElementById('result-icon').innerText =
                isWin ? "celebration" : "book";

            document.getElementById('fail-options').className = isWin ? "hidden" : "";
            document.getElementById('success-options').className = isWin ? "" : "hidden";

            /* ★ 結果タイトルは必ずここで一括更新 */
            updateResultTexts();
        }

        function showHint() {
            const hintArea = document.getElementById('hint-area');
            if (!hintArea) return;

            const userIds = getUserIds();
            const correctIds = getCorrectIds();

            // まだゲームが成立してない保険
            if (userIds.length === 0 || correctIds.length === 0) {
                lastHintIds = [];
                lastHintWasEmpty = true;
                hintArea.innerHTML =
                    `<strong>${currentLang === 'ja' ? "💡 調査の助け:" : "💡 Clues:"}</strong><br><br>` +
                    (currentLang === 'ja' ? "まだ並び替え対象がありません。" : "No items to check yet.");
                hintArea.classList.remove('hidden');
                switchScreen('screen-game');
                return;
            }

            // id → 正しい位置
            const posMap = {};
            correctIds.forEach((id, idx) => posMap[id] = idx);

            // 異常系（重複・欠落・外部ID）
            const userSet = new Set(userIds);
            const correctSet = new Set(correctIds);
            const hasDuplicate = userSet.size !== userIds.length;
            const hasOutOfTask = userIds.some(id => !correctSet.has(id));
            const hasMissing = correctIds.some(id => !userSet.has(id));

            // 最初の「逆転している隣接ペア」を探す
            let conflictPairIds = null;
            for (let i = 0; i < userIds.length - 1; i++) {
                const a = userIds[i];
                const b = userIds[i + 1];
                const pa = posMap[a];
                const pb = posMap[b];
                if (pa == null || pb == null) continue; // task外は保険で無視
                if (pa > pb) { conflictPairIds = [a, b]; break; }
            }

            // ヒント対象（最大2）
            const hintsToShow = conflictPairIds
                ? conflictPairIds.map(id => masterEvents.find(e => e.id === id)).filter(Boolean)
                : [];

            // 言語切替の再描画用に保存
            lastHintIds = hintsToShow.map(e => e.id);
            lastHintWasEmpty = (hintsToShow.length === 0) && !(hasDuplicate || hasOutOfTask || hasMissing);

            const title = currentLang === 'ja'
                ? "💡 調査の助け:"
                : "💡 Clues for misplaced items:";

            let html = `<strong>${title}</strong><br><br>`;

            // まずはセット異常を優先表示
            if (hasDuplicate || hasOutOfTask || hasMissing) {
                if (currentLang === 'ja') {
                    html += "並びの内容に問題があるようです。<br>";
                    if (hasDuplicate) html += "・同じカードが重複している可能性があります。<br>";
                    if (hasOutOfTask) html += "・課題に含まれないカードが混ざっています。<br>";
                    if (hasMissing) html += "・課題に必要なカードが欠けています。<br>";
                    html += "<br>まずはカードの種類と枚数を整えてください。";
                } else {
                    html += "There seems to be a problem with the set of items.<br>";
                    if (hasDuplicate) html += "• Some items may be duplicated.<br>";
                    if (hasOutOfTask) html += "• An item not in this task is included.<br>";
                    if (hasMissing) html += "• A required item is missing.<br>";
                    html += "<br>Please fix the set of cards first.";
                }
            } else if (hintsToShow.length === 0) {
                // セット正常＆逆転なし → 並び順OK（少なくとも「逆転」はない）
                html += currentLang === 'ja'
                    ? "並び順は合っているようです。"
                    : "The order seems correct.";
            } else {
                // 逆転ペアの比較ヒント（あなたの意図どおり）
                for (const ev of hintsToShow) {
                    const name = ev[currentLang] || ev.ja || "";
                    const hintDesc = ev['hint_' + currentLang] || ev.hint_ja || "";
                    html += `<div class="hint-item">・${name} (${formatRef(ev.ref)})`;
                    if (hintDesc) html += `<span class="hint-desc">${hintDesc}</span>`;
                    html += `</div>`;
                }
            }

            hintArea.innerHTML = html;
            hintArea.classList.remove('hidden');
            switchScreen('screen-game');

            // タイムアタックONの場合のみタイマー再始動（timeLeftは維持）
            const isTimeAttack = document.getElementById('time-attack-select')?.value === 'on';
            if (isTimeAttack) {
                clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    timeLeft--;
                    updateTimerDisplay();
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        alert(currentLang === 'ja' ? "時間切れ！" : "Time's Up!");
                        checkOrder();
                    }
                }, 1000);
            }
        }

        function retryThisTask() {
            document.getElementById('hint-area').classList.add('hidden');
            renderGame(false);
            switchScreen('screen-game');

            const isTimeAttack = document.getElementById('time-attack-select').value === 'on';
            if (isTimeAttack) {
                const count = parseInt(document.getElementById('count-select').value);
                timeLeft = count * 15;
                updateTimerDisplay();
                clearInterval(timerInterval);
                timerInterval = setInterval(() => {
                    timeLeft--;
                    updateTimerDisplay();
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        alert(currentLang === 'ja' ? "時間切れ！" : "Time's Up!");
                        checkOrder();
                    }
                }, 1000);
            }
        }

        function switchScreen(id) {
            document.getElementById('screen-setup').classList.add('hidden');
            document.getElementById('screen-game').classList.add('hidden');
            document.getElementById('screen-result').classList.add('hidden');
            document.getElementById(id).classList.remove('hidden');
        }
        /* ページを開いた瞬間にやること（初期化） */
        window.onload = () => {

            /* 1) ブラウザ言語 or 保存済み言語を見て currentLang を決める */
            detectLanguage();
            document.documentElement.lang = currentLang;

            /* 2) 言語ボタン（JA/EN）の表示を currentLang に合わせる */
            const langBtn = document.getElementById('langBtn');
            if (langBtn) {
                langBtn.innerText = currentLang === 'ja' ? 'EN' : 'JA';
            }

            /* 3) data-ja / data-en の文言を currentLang の言語に切り替える
                  ※ これをやらないと、HTMLに直書きされた初期表示のままになる */
            document.querySelectorAll('[data-ja]').forEach(el => {
                el.innerText = el.getAttribute('data-' + currentLang);
            });

            /* 4) 年代セレクト等を currentLang で描画する（BCE/CE表示も含む） */
            initPickers();

            /* 5) 初期の開始/終了をセット（select が存在するページだけ） */
            const startSel = document.getElementById('select-start');
            const endSel = document.getElementById('select-end');
            if (startSel && endSel) {
                startSel.value = -4026;
                endSel.value = 98;
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
  // --- HOME ---
  const homeBtn = document.getElementById('homeBtn');
  if (homeBtn) {
    homeBtn.addEventListener('click', (e) => {
      e.preventDefault();
      location.href = '/';
    });
  }

  // --- LANG（確実版）---
  const langBtn0 = document.getElementById('langBtn');
  if (langBtn0) {
    // 既存のonclick / addEventListener を全部剥がすためにボタンを差し替える
    const langBtn = langBtn0.cloneNode(true);
    langBtn0.parentNode.replaceChild(langBtn, langBtn0);

    // キャプチャで最優先、他の処理を止める
    langBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (e.stopImmediatePropagation) e.stopImmediatePropagation();

      // まず「既存の関数」があればそれを呼ぶ（壊さない）
      if (typeof window.toggleLang === 'function') { window.toggleLang(); return; }
      if (typeof window.toggleLanguage === 'function') { window.toggleLanguage(); return; }
      if (typeof window.switchLanguage === 'function') { window.switchLanguage(); return; }
      if (typeof window.setLanguage === 'function') { window.setLanguage(); return; }

      // 無ければ localStorage を “複数キー” に保存（実装違いを吸収）
      const saved =
        localStorage.getItem('arq_lang') ||
        localStorage.getItem('lang') ||
        localStorage.getItem('language') ||
        localStorage.getItem('btlq_lang');

      const current = saved || (navigator.language && navigator.language.startsWith('ja') ? 'ja' : 'en');
      const next = (current === 'ja') ? 'en' : 'ja';

      localStorage.setItem('arq_lang', next);
      localStorage.setItem('lang', next);
      localStorage.setItem('language', next);
      localStorage.setItem('btlq_lang', next);

      // もしグローバルに applyLang があるなら即反映
      if (typeof window.applyLang === 'function') {
        window.applyLang(next);
        return;
      }

      // 無ければリロードして初期化に任せる（確実）
      location.reload();
    }, true); // capture=true
  }

  // ===== イベントJSON読み込み（統一版） =====
window.EVENTS = [];

async function loadEvents() {
  const url = "/btlq/data/events/events_all.json"; // ←GitHub Pagesで確実

  try {
    const res = await fetch(url, { cache: "no-store" });

    // ✅ 404/500対策（HTMLが返る事故を防ぐ）
    if (!res.ok) {
      const text = await res.text();
      console.error("Fetch failed:", res.status, res.statusText, "url=", url);
      console.error("Response head:", text.slice(0, 200));
      return;
    }

    const data = await res.json();

    if (!Array.isArray(data)) {
      console.error("Invalid JSON: expected an Array, got:", typeof data, data);
      return;
    }

    window.EVENTS = data;
    console.log("EVENTS loaded:", window.EVENTS.length);
  } catch (e) {
    console.error("Event load failed:", e, "url=", url);
  }
}

// ✅ DOMが整ってから呼ぶ（安全）
document.addEventListener("DOMContentLoaded", loadEvents);
// ===== ここまで =====

    </script>

    <footer style="margin-top:40px; padding:20px 0; border-top:1px solid #ddd; font-size:14px; text-align:center;">
        <a href="/about.html" target="_blank" rel="noopener noreferrer" style="margin:0 10px;">
            About
        </a>
        <a href="/privacy.html" target="_blank" rel="noopener noreferrer" style="margin:0 10px;">
            Privacy Policy
        </a>
        <a href="/contact.html" target="_blank" rel="noopener noreferrer" style="margin:0 10px;">
            Contact
        </a>
    </footer>


</body>

</html>
